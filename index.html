<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæ…‹æ£²åœ°ç ´å†°æ´»å‹•</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0fdf4; /* Light green background */
        }
        .card-container {
            perspective: 1000px;
            cursor: pointer;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .card-container.flipped .card-inner {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 16px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .card-front {
            background-color: #60a5fa; /* Blue */
            color: white;
        }
        .card-back {
            background-color: #fef9c3; /* Light yellow */
            color: #374151; /* Dark gray */
            transform: rotateY(180deg);
            overflow-y: auto; /* For long text */
        }
        .drawn-card-display, .all-clues-card-display {
            background-color: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .drawn-card-display h3, .all-clues-card-display h4 {
            font-size: 1.1em;
            font-weight: bold;
            color: #1e40af; /* Dark blue */
        }
        .drawn-card-display .emoji, .all-clues-card-display .emoji {
            font-size: 2.5rem;
            margin-bottom: 8px;
        }
        .all-clues-card-display .emoji {
            font-size: 1.5rem; /* Smaller emoji for all clues list */
        }
         .all-clues-card-display p {
            font-size: 0.85rem;
        }
        textarea, select {
            min-height: 100px;
        }
        select {
             min-height: auto;
             height: 42px;
        }
        .exchange-select {
            flex-grow: 1;
            min-width: 150px;
        }
        .thank-input {
            width: auto;
            min-width: 100px;
            max-width: 150px;
        }
        .card-back::-webkit-scrollbar {
            width: 8px;
        }
        .card-back::-webkit-scrollbar-track {
            background: #fef9c3; /* Match card background */
            border-radius: 10px;
        }
        .card-back::-webkit-scrollbar-thumb {
            background: #a3a3a3; /* Neutral gray */
            border-radius: 10px;
        }
        .card-back::-webkit-scrollbar-thumb:hover {
            background: #737373; /* Darker gray */
        }
        .test-section {
            margin-top: 1rem;
            padding: 1rem;
            background-color: #f9fafb; 
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }
        /* Modal Styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 80%; /* Could be more or less, depending on screen size */
            max-width: 500px;
            border-radius: 8px;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-green-50 text-gray-800 p-4 md:p-8">
    <div class="container mx-auto max-w-5xl">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-green-700">ç”Ÿæ…‹æ£²åœ°ç ´å†°æ´»å‹•</h1>
            <p class="text-lg text-green-600 mt-2">é€éæŠ½å¡èˆ‡æ•…äº‹ï¼Œæ¢ç´¢ç”Ÿæ…‹çš„å¥§ç§˜ï¼</p>
        </header>

        <!-- Card Drawing Section -->
        <section class="mb-8">
            <h2 class="text-2xl font-semibold text-green-700 mb-4">æŠ½å¡å€</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Character Card -->
                <div id="characterCardContainer" class="card-container h-64" onclick="drawCard('character')">
                    <div class="card-inner">
                        <div class="card-face card-front">
                            <p class="text-xl font-semibold">æŠ½è§’è‰²å¡</p>
                            <p class="text-3xl mt-2">ğŸ‘¤</p>
                        </div>
                        <div class="card-face card-back" id="characterCardBack">
                            <!-- Content injected by JS -->
                        </div>
                    </div>
                </div>
                <!-- Habitat Card -->
                <div id="habitatCardContainer" class="card-container h-64" onclick="drawCard('habitat')">
                    <div class="card-inner">
                        <div class="card-face card-front">
                            <p class="text-xl font-semibold">æŠ½æ£²åœ°å¡</p>
                            <p class="text-3xl mt-2">ğŸï¸</p>
                        </div>
                        <div class="card-face card-back" id="habitatCardBack">
                            <!-- Content injected by JS -->
                        </div>
                    </div>
                </div>
                <!-- Clue Card -->
                <div id="clueCardContainer" class="card-container h-64" onclick="drawCard('clue')">
                    <div class="card-inner">
                        <div class="card-face card-front">
                            <p class="text-xl font-semibold">æŠ½ç·šç´¢å¡</p>
                            <p class="text-3xl mt-2">ğŸ”</p>
                        </div>
                        <div class="card-face card-back" id="clueCardBack">
                            <!-- Content injected by JS -->
                        </div>
                    </div>
                </div>
                <!-- Solution Card -->
                <div id="solutionCardContainer" class="card-container h-64" onclick="drawCard('solution')">
                    <div class="card-inner">
                        <div class="card-face card-front">
                            <p class="text-xl font-semibold">æŠ½è§£æ–¹å¡</p>
                            <p class="text-3xl mt-2">ğŸ’¡</p>
                        </div>
                        <div class="card-face card-back" id="solutionCardBack">
                            <!-- Content injected by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- My Drawn Cards Section -->
        <section class="mb-8 p-6 bg-white rounded-xl shadow-lg">
            <h2 class="text-2xl font-semibold text-green-700 mb-4">æˆ‘çš„å¡ç‰Œ</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div id="drawnCharacterCard" class="drawn-card-display"><h3>è§’è‰²å¡ï¼š</h3><p>å°šæœªæŠ½å–</p></div>
                <div id="drawnHabitatCard" class="drawn-card-display"><h3>æ£²åœ°å¡ï¼š</h3><p>å°šæœªæŠ½å–</p></div>
                <div id="drawnClueCard" class="drawn-card-display"><h3>ç·šç´¢å¡ï¼š</h3><p>å°šæœªæŠ½å–</p></div>
                <div id="drawnSolutionCard" class="drawn-card-display"><h3>è§£æ–¹å¡ï¼š</h3><p>å°šæœªæŠ½å–</p></div>
            </div>
        </section>

        <!-- Story Structure Note Section -->
        <section class="mb-8 p-6 bg-white rounded-xl shadow-lg">
            <div class="flex justify-between items-center mb-6">
                 <h2 class="text-2xl font-semibold text-green-700">æ•…äº‹æ¶æ§‹ç­†è¨˜ <span class="text-sm text-gray-600 italic ml-2">*è·Ÿéš¨æŒ‡å°è€å¸«ä¸²è¯æ‚¨æ¢ç´¢ç”Ÿæ…‹çš„æ•…äº‹</span></h2>
                <button id="guideButton" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center">
                    <svg class="fill-current w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18 2H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"/></svg>
                    <span>æŒ‡å°è€å¸«æ•™å­¸æŒ‡å—</span>
                </button>
            </div>
            <form id="storyForm" class="space-y-6">
                <div>
                    <label for="myName" class="block text-sm font-medium text-gray-700">æˆ‘çš„åå­—å« (è‡ªæˆ‘ä»‹ç´¹):</label>
                    <input type="text" id="myName" name="myName" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                </div>
                <div>
                    <p class="block text-sm font-medium text-gray-700">æˆ‘ä»Šå¤©æ˜¯ä¸€éš»: <span id="storyCharacterName" class="font-semibold"></span></p>
                </div>
                <div>
                    <label for="partnerNames" class="block text-sm font-medium text-gray-700">æˆ‘æ‰¾åˆ°çš„å¤¥ä¼´åå­—æ˜¯ï¼š</label>
                    <input type="text" id="partnerNames" name="partnerNames" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2" placeholder="ä¾‹å¦‚ï¼šå°èŠ±ã€é˜¿æ˜">
                </div>
                 <div>
                    <label for="partnerExpertise" class="block text-sm font-medium text-gray-700">ä»–å€‘çš„å°ˆæ¥­åŒ…å«äº†ï¼š</label>
                    <input type="text" id="partnerExpertise" name="partnerExpertise" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2" placeholder="ä¾‹å¦‚ï¼šæ¤ç‰©å­¸ã€å‹•ç‰©è¡Œç‚ºã€ç’°å¢ƒç›£æ¸¬">
                </div>
                <p class="text-sm text-gray-600 mt-1 mb-3">æˆ‘æœ‰ä¿¡å¿ƒä¸€èµ·å°‹æ‰¾æˆ‘å€‘çš„æ£²åœ°æ‰¾åˆ°æˆ‘å€‘çš„å®¶é„‰å®Œæˆä»Šå¤©çš„ä»»å‹™ã€‚</p>

                <div>
                    <label for="animalKnowledge" id="animalKnowledgeLabel" class="block text-sm font-medium text-gray-700">æˆ‘æœ‰ä¸€äº›ç¨ç‰¹çš„ç‰¹æ€§æ˜¯ (å¯«ä¸‹è‡ªå·±å°è©²å‹•ç‰©çš„èªè­˜):</label>
                    <textarea id="animalKnowledge" name="animalKnowledge" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2"></textarea>
                </div>
                
                <div>
                    <p class="block text-sm font-medium text-gray-700">æˆ‘æŠ½åˆ°çš„æ£²åœ°å¡(å®¶åœ’)æ˜¯ï¼š<span id="storyHabitatName" class="font-semibold"></span></p>
                    <div class="mt-2">
                        <span class="text-sm font-medium text-gray-700">æˆ‘è¦ºå¾—é€™å¯èƒ½ï¼š</span>
                        <label class="inline-flex items-center ml-2">
                            <input type="radio" name="isHometown" value="æ˜¯" class="form-radio text-indigo-600 focus:ring-indigo-500">
                            <span class="ml-1 text-sm text-gray-700">æ˜¯</span>
                        </label>
                        <label class="inline-flex items-center ml-2">
                            <input type="radio" name="isHometown" value="ä¸æ˜¯" class="form-radio text-indigo-600 focus:ring-indigo-500">
                            <span class="ml-1 text-sm text-gray-700">ä¸æ˜¯</span>
                        </label>
                        <span class="text-sm font-medium text-gray-700"> æˆ‘çš„å®¶é„‰ã€‚</span>
                    </div>
                </div>
                <div>
                    <label for="hometownDiscussion" id="hometownDiscussionLabel" class="block text-sm font-medium text-gray-700">æ–¼æ˜¯æˆ‘èˆ‡æˆ‘å€‘å¤¥ä¼´å€‘ä¸€èµ·è¨è«–ï¼Œæˆ‘å€‘çš„å®¶é„‰æ‡‰è©²(é‚„)æœƒæœ‰..... (èªªæ˜æœ‰åˆ©æ–¼<span id="hometownCharacterNameDisplay" class="font-bold text-indigo-600">(è§’è‰²)</span>ç”Ÿæ´»å±…ä½çš„ç†ç”±):</label>
                    <textarea id="hometownDiscussion" name="hometownDiscussion" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2" placeholder="ä¾‹å¦‚ï¼šæ›´å¤šæ¨£çš„é£Ÿç‰©ä¾†æºã€æ›´éš±è”½çš„å·¢ç©´..."></textarea>
                </div>
                
                <div class="mt-4 pt-4 border-t border-gray-200">
                    <h4 class="text-md font-semibold text-gray-800 mb-3">æ£²åœ°å¡äº¤æ›çµæœç´€éŒ„ï¼š</h4>
                    <div>
                        <label for="neededHabitatCard" class="block text-sm font-medium text-gray-700">æˆ‘çœŸæ­£éœ€è¦çš„æ£²åœ°å¡æ˜¯ï¼š</label>
                        <select id="neededHabitatCard" name="neededHabitatCard" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                            <option value="">-- è«‹é¸æ“‡æ£²åœ°å¡ --</option>
                        </select>
                    </div>
                    <div class="mt-3">
                        <label for="correctCardsObtained" class="block text-sm font-medium text-gray-700">æˆ‘å€‘çš„éšŠä¼è·Ÿå…¶ä»–çš„éšŠä¼äº¤æµå¾Œï¼Œç¸½å…±æ›åˆ°äº†å¹¾å¼µæ­£ç¢ºçš„æ£²åœ°å¡ï¼š</label>
                        <input type="number" id="correctCardsObtained" name="correctCardsObtained" min="0" class="mt-1 inline-block w-24 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2" placeholder="æ•¸é‡">
                        <span class="text-sm text-gray-600"> å¼µ</span>
                    </div>
                    <div class="space-y-2 mt-3">
                        <p class="text-sm font-medium text-gray-700">èˆ‡å…¶ä»–éšŠä¼çš„äº¤æ›è©³æƒ…ï¼š</p>
                        <div class="flex flex-wrap items-center gap-x-2 gap-y-1">
                            <span class="text-sm text-gray-700">æˆ‘å€‘è·Ÿ</span>
                            <select name="exchangeTeam1" class="exchange-select rounded-md border-gray-300 shadow-sm p-1 sm:text-sm focus:border-indigo-500 focus:ring-indigo-500">
                                <option value="">-- é¸æ“‡éšŠä¼(è§’è‰²) --</option>
                            </select>
                            <span class="text-sm text-gray-700">éšŠä¼äº¤æ›äº†</span>
                            <input type="number" name="exchangeCount1" min="0" class="w-20 rounded-md border-gray-300 shadow-sm p-1 sm:text-sm" placeholder="æ•¸é‡">
                            <span class="text-sm text-gray-700">å¼µã€‚</span>
                        </div>
                        <div class="flex flex-wrap items-center gap-x-2 gap-y-1">
                            <span class="text-sm text-gray-700">æˆ‘å€‘è·Ÿ</span>
                             <select name="exchangeTeam2" class="exchange-select rounded-md border-gray-300 shadow-sm p-1 sm:text-sm focus:border-indigo-500 focus:ring-indigo-500">
                                <option value="">-- é¸æ“‡éšŠä¼(è§’è‰²) --</option>
                            </select>
                            <span class="text-sm text-gray-700">éšŠä¼äº¤æ›äº†</span>
                            <input type="number" name="exchangeCount2" min="0" class="w-20 rounded-md border-gray-300 shadow-sm p-1 sm:text-sm" placeholder="æ•¸é‡">
                            <span class="text-sm text-gray-700">å¼µã€‚</span>
                        </div>
                        <div class="flex flex-wrap items-center gap-x-2 gap-y-1">
                            <span class="text-sm text-gray-700">æˆ‘å€‘è·Ÿ</span>
                            <select name="exchangeTeam3" class="exchange-select rounded-md border-gray-300 shadow-sm p-1 sm:text-sm focus:border-indigo-500 focus:ring-indigo-500">
                                <option value="">-- é¸æ“‡éšŠä¼(è§’è‰²) --</option>
                            </select>
                            <span class="text-sm text-gray-700">éšŠä¼äº¤æ›äº†</span>
                            <input type="number" name="exchangeCount3" min="0" class="w-20 rounded-md border-gray-300 shadow-sm p-1 sm:text-sm" placeholder="æ•¸é‡">
                            <span class="text-sm text-gray-700">å¼µã€‚</span>
                        </div>
                        <div class="flex flex-wrap items-center gap-x-2 gap-y-1">
                            <span class="text-sm text-gray-700">æˆ‘å€‘è·Ÿ</span>
                            <select name="exchangeTeam4" class="exchange-select rounded-md border-gray-300 shadow-sm p-1 sm:text-sm focus:border-indigo-500 focus:ring-indigo-500">
                                <option value="">-- é¸æ“‡éšŠä¼(è§’è‰²) --</option>
                            </select>
                            <span class="text-sm text-gray-700">éšŠä¼äº¤æ›äº†</span>
                            <input type="number" name="exchangeCount4" min="0" class="w-20 rounded-md border-gray-300 shadow-sm p-1 sm:text-sm" placeholder="æ•¸é‡">
                            <span class="text-sm text-gray-700">å¼µã€‚</span>
                        </div>
                    </div>
                    <div class="mt-3">
                        <span class="text-sm font-medium text-gray-700">è¬è¬</span>
                        <input type="text" name="finalThanksPartner1" class="thank-input mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2" placeholder="å¤¥ä¼´/éšŠä¼1">
                        <input type="text" name="finalThanksPartner2" class="thank-input mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2" placeholder="å¤¥ä¼´/éšŠä¼2">
                        <input type="text" name="finalThanksPartner3" class="thank-input mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2" placeholder="å¤¥ä¼´/éšŠä¼3">
                        <input type="text" name="finalThanksPartner4" class="thank-input mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2" placeholder="å¤¥ä¼´/éšŠä¼4">
                        <input type="text" name="finalThanksPartner5" class="thank-input mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2" placeholder="å¤¥ä¼´/éšŠä¼5">
                        <span class="text-sm font-medium text-gray-700"> å¹«æˆ‘æ‰¾åˆ°äº†æ­£ç¢ºçš„æ£²åœ°å¡ï¼</span>
                    </div>
                </div>

                <p class="text-sm text-gray-600 mt-4 mb-3">æˆ‘çš„å…¶ä»–å¤¥ä¼´ä¹Ÿéƒ½æ‰¾åˆ°æ­£ç¢ºçš„æ£²åœ°å¡äº†ï¼Œç¾åœ¨æˆ‘å€‘è¦ä¸€èµ·å›åˆ°æˆ‘å€‘çš„å®¶é„‰å»çœ‹çœ‹äº†!....</p>
                
                <!-- Situation Card Section -->
                <div id="situationSection" class="my-6 p-6 bg-yellow-100 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold text-yellow-700 mb-4">çªç™¼æƒ…å¢ƒï¼</h3>
                    <div id="passwordPrompt">
                        <label for="situationPassword" class="block text-sm font-medium text-gray-700">æŒ‡å°è€å¸«è«‹æä¾›å¯†ç¢¼ä»¥æ­éœ²æƒ…å¢ƒï¼š</label>
                        <input type="password" id="situationPassword" name="situationPassword" class="mt-1 block w-full md:w-1/2 rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500 sm:text-sm p-2">
                        <button type="button" onclick="revealSituation()" class="mt-2 bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-lg shadow transition duration-150 ease-in-out">
                            æ­éœ²æƒ…å¢ƒ
                        </button>
                        <p id="passwordError" class="text-red-500 text-sm mt-1 hidden">å¯†ç¢¼éŒ¯èª¤ï¼è«‹ç¢ºèªå¾Œå†è©¦ä¸€æ¬¡ã€‚</p>
                    </div>
                    <div id="situationCardDisplay" class="hidden mt-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-md">
                        <h4 class="text-lg font-bold mb-2 text-center">âš ï¸ ç·Šæ€¥æƒ…å¢ƒï¼ âš ï¸</h4>
                        <p id="situationText" class="text-md text-center">å®¶é„‰çš„åŒä¼´éƒ½ä¸è¦‹äº†! ä»–å€‘å»äº†å“ªè£¡ï¼Ÿ<br>è«‹ç©å®¶å€‘ä¸€èµ·æ‰¾å‡ºç·šç´¢ï¼</p>
                    </div>
                </div>

                <div>
                    <label for="clueReasoning" class="block text-sm font-medium text-gray-700">
                        ç‚ºäº†è§£æ±º<span id="situationContextForClue" class="font-bold text-red-600">???</span>çš„è¬åœ˜ï¼Œ<br>
                        æˆ‘å’Œçµ„å“¡å¤¥ä¼´æ¨ç†å‡º<span id="situationContextForReasoning" class="font-bold text-red-600">???</span>çš„å¯èƒ½åŸå› æ˜¯ï¼š
                    </label>
                    <textarea id="clueReasoning" name="clueReasoning" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2"></textarea>
                </div>
                <div>
                    <p class="block text-sm font-medium text-gray-700">æˆ‘æŠ½åˆ°çš„ç·šç´¢æ˜¯ï¼š<span id="storyClueNameForReasoning" class="font-semibold"></span></p>
                     <div class="mt-2">
                        <span class="text-sm font-medium text-gray-700">æˆ‘èªç‚ºé€™ï¼š</span>
                        <label class="inline-flex items-center ml-2">
                            <input type="radio" name="isClueReason" value="æ˜¯" class="form-radio text-indigo-600 focus:ring-indigo-500">
                            <span class="ml-1 text-sm text-gray-700">æ˜¯</span>
                        </label>
                        <label class="inline-flex items-center ml-2">
                            <input type="radio" name="isClueReason" value="ä¸æ˜¯" class="form-radio text-indigo-600 focus:ring-indigo-500">
                            <span class="ml-1 text-sm text-gray-700">ä¸æ˜¯</span>
                        </label>
                        <span class="text-sm font-medium text-gray-700" id="clueReasonSuffix"> æˆ‘éœ€è¦çš„ç·šç´¢ï¼Œ</span>
                    </div>
                </div>
                <p class="text-sm text-gray-600 mt-1 mb-3" id="clueFollowUpText">ç¾åœ¨æˆ‘å€‘å¿…é ˆè¶•å¿«æ‰¾åˆ°æ›´å¤šçš„ç·šç´¢ã€‚</p>

                <!-- Reveal All Clues Section -->
                <div id="revealAllCluesSection" class="my-6 p-6 bg-blue-100 rounded-xl shadow-lg">
                    <h3 class="text-2xl font-semibold text-blue-700 mb-4">å°‹æ‰¾æ›´å¤šç·šç´¢</h3>
                    <div id="allCluesPasswordPrompt">
                        <label for="allCluesPassword" class="block text-sm font-medium text-gray-700">æŒ‡å°è€å¸«è«‹æä¾›å¯†ç¢¼ä»¥æ­éœ²æ‰€æœ‰ç·šç´¢ï¼š</label>
                        <input type="password" id="allCluesPassword" name="allCluesPassword" class="mt-1 block w-full md:w-1/2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2">
                        <button type="button" onclick="revealAllClues()" class="mt-2 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg shadow transition duration-150 ease-in-out">
                            æ­éœ²æ‰€æœ‰ç·šç´¢
                        </button>
                        <p id="allCluesPasswordError" class="text-red-500 text-sm mt-1 hidden">å¯†ç¢¼éŒ¯èª¤ï¼</p>
                    </div>
                    <div id="allCluesDisplay" class="hidden mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- All clue cards will be injected here by JS -->
                    </div>
                </div>
                
                <!-- New section for human impact and ecological services -->
                <div class="mt-6 pt-6 border-t border-gray-300 space-y-4">
                    <p class="text-sm text-gray-700">é€™äº›ç·šç´¢éƒ½é¡¯ç¤ºäººé¡é«˜åº¦æ´»å‹•é€ æˆçš„ç’°å¢ƒå½±éŸ¿ï¼Œå› ç‚ºæˆ‘å€‘å±…ä½çš„åœ°æ–¹ï¼Œèˆ‡äººé¡çš„æ´»å‹•ç¯„åœæœ‰é«˜åº¦çš„é‡ç–Šï¼Œé€ æˆæˆ‘å€‘æ£²åœ°çš„ç ´å£ï¼›æˆ‘å€‘éƒ½æ˜¯ç”Ÿæ…‹éˆä¸­é‡è¦çš„ä¸€ç’°ï¼Œå› æ­¤æˆ‘å€‘å¸Œæœ›äººé¡èƒ½å¤ å°æˆ‘å€‘æ›´å‹å–„ã€‚</p>
                    <div>
                        <label for="resourceUtilizationLevel" class="block text-sm font-medium text-gray-700">æ£²åœ°çš„æ¢ç´¢ä¸­ï¼Œæˆ‘å’Œå¤¥ä¼´å€‘ä¸€èµ·è¨è«–å¾—å‡ºçµè«–æ˜¯â€¦â€¦.æˆ‘å€‘å¸Œæœ›äººé¡èƒ½å¤ ï¼š</label>
                        <select id="resourceUtilizationLevel" name="resourceUtilizationLevel" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                            <option value="">-- è«‹é¸æ“‡åˆ©ç”¨ç¨‹åº¦ --</option>
                            <option value="é«˜åº¦">é«˜åº¦</option>
                            <option value="é©åº¦">é©åº¦</option>
                            <option value="ä½åº¦">ä½åº¦</option>
                        </select>
                        <span class="text-sm text-gray-700">çš„åˆ©ç”¨è³‡æºï¼Œè®“ã€ç”Ÿæ…‹æœå‹™å¯ä»¥æ°¸çºŒã€‘ã€‚</span>
                    </div>
                    <p class="text-sm text-gray-700 italic">*é€éè€å¸«çš„æ•™å­¸æˆ‘å€‘æ›´äº†è§£ã€ç”Ÿæ…‹æœå‹™ã€‘æ˜¯äººé¡çš„ã€Œç”Ÿå‘½æ”¯æŒç³»çµ±ã€ï¼Œç‚ºäººé¡æä¾›å¿…è¦çš„ç”Ÿæ…‹ç³»æœå‹™ã€‚ï¼Œå› æ­¤ç¹¼çºŒè¨è«–åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæœ‰å“ªäº›è¡Œç‚ºå¯ä»¥æˆç‚ºæ”¹è®Šçš„è§£æ–¹ã€‚</p>
                </div>

                <!-- Solution Card Selection and Tests -->
                <div class="mt-6 pt-6 border-t border-gray-300 space-y-4">
                    <label for="desiredSolutionCard" class="block text-sm font-medium text-gray-700">åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæœ‰å“ªäº›è¡Œç‚ºå¯ä»¥æˆç‚ºæ”¹è®Šçš„è§£æ–¹ã€‚ç¶“éåæ€ï¼Œæˆ‘æƒ³è¦åŠªåŠ›é”æˆçš„è§£æ–¹æ˜¯ï¼š</label>
                    <select id="desiredSolutionCard" name="desiredSolutionCard" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                        <option value="">-- è«‹é¸æ“‡æ‚¨æƒ³åŠªåŠ›çš„è§£æ–¹ --</option>
                    </select>

                    <div id="test1Section" class="test-section hidden">
                        <label for="test1UnEcoItem" class="block text-sm font-medium text-gray-700">ç²å¾—è§£æ–¹å¡çš„è€ƒé©—1: è«‹å¡«å¯«ä¸€ä»¶æ‚¨è‡ªå·±èº«ä¸Šä¸å¤ ç’°ä¿çš„ç‰©å“ï¼Œæˆ–æ˜¯ä¸€ç¨®æ‚¨ç”Ÿæ´»ä¸­ä¸ç’°ä¿çš„è¡Œç‚ºã€‚</label>
                        <input type="text" id="test1UnEcoItem" name="test1UnEcoItem" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2">
                        <p id="test1UnEcoItemError" class="text-red-500 text-sm mt-1 hidden">è«‹è‡³å°‘è¼¸å…¥3å€‹å­—å…ƒã€‚</p>
                    </div>

                    <div id="test2Section" class="test-section hidden">
                        <label for="test2UnEcoReason" class="block text-sm font-medium text-gray-700">ç²å¾—è§£æ–¹å¡çš„è€ƒé©—2: è«‹èªªæ˜è©²ç‰©å“æˆ–è¡Œç‚ºä¸å¤ ç’°ä¿çš„ç†ç”±ï¼Ÿ</label>
                        <textarea id="test2UnEcoReason" name="test2UnEcoReason" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2"></textarea>
                        <p id="test2UnEcoReasonError" class="text-red-500 text-sm mt-1 hidden">è«‹è‡³å°‘è¼¸å…¥6å€‹å­—å…ƒã€‚</p>
                    </div>
                    <p id="solutionConfirmationMessage" class="text-green-600 font-semibold mt-2 hidden"></p>
                </div>
                
                <div> 
                    <p class="block text-sm font-medium text-gray-700">æˆ‘éš¨æ©ŸæŠ½åˆ°çš„è§£æ–¹å¡æç¤ºæ˜¯ï¼š<span id="storySolutionName" class="font-semibold">(å®Œæˆè€ƒé©—ä»¥æŸ¥çœ‹æ‚¨é¸æ“‡çš„è§£æ–¹)</span></p>
                </div>

                <div>
                    <label for="habitatRepairSolution" class="block text-sm font-medium text-gray-700">é‡å°æˆ‘å€‘çš„æ£²åœ°(<span id="solutionCharacterName" class="font-bold text-indigo-600">(è§’è‰²)</span>)å—åˆ°ç ´å£ï¼Œæˆ‘èªç‚ºé€éäººé¡è¡Œç‚ºå¯ä»¥ä¿®å¾©çš„è§£æ–¹æ˜¯:</label>
                    <textarea id="habitatRepairSolution" name="habitatRepairSolution" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2"></textarea>
                </div>
                
                <div>
                    <label for="ecoChange" class="block text-sm font-medium text-gray-700">æˆ‘å°é€™å€‹è§£æ–¹çš„ç†è§£ä»¥åŠåœ¨ç”Ÿæ´»ä¸­æ‡‰ç”¨çš„æ¡ˆä¾‹æ˜¯?</label>
                    <textarea id="ecoChange" name="ecoChange" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2"></textarea>
                </div>
                 <div>
                    <label for="relationToHome" class="block text-sm font-medium text-gray-700">é€™å’Œæˆ‘çš„è§’è‰²å®¶åœ’æœ‰ä»€éº¼é—œä¿‚ï¼Ÿ</label>
                    <textarea id="relationToHome" name="relationToHome" rows="2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2"></textarea>
                </div>
                <div>
                    <label for="groupPlan" class="block text-sm font-medium text-gray-700">æˆ‘å€‘å°çµ„æå‡ºçš„åˆä½œæ–¹æ¡ˆæ˜¯ï¼š</label>
                    <textarea id="groupPlan" name="groupPlan" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2"></textarea>
                </div>
                <div>
                    <label for="personalCommitment" class="block text-sm font-medium text-gray-700">æˆ‘å€‹äººçš„è¡Œå‹•æ‰¿è«¾æ˜¯ï¼š</label>
                    <textarea id="personalCommitment" name="personalCommitment" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2"></textarea>
                </div>
            </form>
        </section>

        <!-- My Adventure Story Section -->
        <section class="mb-8 p-6 bg-white rounded-xl shadow-lg">
            <h2 class="text-2xl font-semibold text-green-700 mb-4">ğŸ“– æˆ‘çš„ç’°å¢ƒå†’éšªæ•…äº‹</h2>
            <textarea id="adventureStory" rows="10" class="w-full p-3 border border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500" placeholder="æ‚¨çš„å†’éšªæ•…äº‹å°‡æœƒåœ¨é€™è£¡ç”Ÿæˆï¼Œæ‚¨ä¹Ÿå¯ä»¥è‡ªè¡Œç·¨è¼¯..."></textarea>
            <button onclick="updateAdventureStory()" class="mt-4 bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-lg shadow transition duration-150 ease-in-out">
                åŒæ­¥ç­†è¨˜åˆ°æ•…äº‹
            </button>
        </section>

        <!-- Download Section -->
        <section class="text-center p-6 bg-white rounded-xl shadow-lg">
            <h2 class="text-2xl font-semibold text-green-700 mb-4">ä¸‹è¼‰æ‚¨çš„å†’éšª</h2>
            <button id="downloadStoryBtn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-150 ease-in-out text-lg">
                ä¸‹è¼‰æ•…äº‹HTMLæª”æ¡ˆ
            </button>
        </section>

        <!-- Modal for Password Input -->
        <div id="passwordModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center hidden z-50">
            <div class="bg-white p-8 rounded-lg shadow-xl w-11/12 md:w-1/3">
                <h3 class="text-xl font-semibold mb-4" id="modalTitle">è¼¸å…¥å¯†ç¢¼</h3>
                <input type="password" id="modalPasswordInput" class="w-full p-2 border border-gray-300 rounded-md mb-4">
                <p id="modalError" class="text-red-500 text-sm mb-4 hidden"></p>
                <div class="flex justify-end space-x-2">
                    <button id="modalCancelButton" class="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400">å–æ¶ˆ</button>
                    <button id="modalSubmitButton" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">ç¢ºèª</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        // Card Data
        const cardData = {
            character: [
                { id: 'c1', name: 'èœœèœ‚', emoji: 'ğŸ', description: 'å‹¤å‹çš„æˆç²‰è€…ï¼Œæ˜¯æ¤ç‰©ç¹æ®–ä¸å¯æˆ–ç¼ºçš„å¥½å¹«æ‰‹ï¼Œä¹Ÿç‚ºæˆ‘å€‘å¸¶ä¾†ç”œç¾çš„èœ‚èœœã€‚' },
                { id: 'c2', name: 'é£Ÿè›‡é¾œ', emoji: 'ğŸ¢', description: 'å°ç£å”¯ä¸€çš„é™¸æ£²å‹æ·¡æ°´é¾œï¼Œä»¥èš¯èš“ã€è¸ç‰›ã€è…è‚‰ç‚ºé£Ÿï¼Œæœ‰åŠ©æ–¼æ§åˆ¶å®³èŸ²èˆ‡åˆ†è§£æœ‰æ©Ÿç‰©ã€‚' },
                { id: 'c3', name: 'é‡‘ç·šè›™', emoji: 'ğŸ¸', description: 'èƒŒä¸Šæœ‰å…©æ¢é‡‘è‰²ç·šæ¢çš„é’è›™ï¼Œå–œæ­¡åœ¨æ°´ç”°ã€åŸ¤å¡˜æ´»å‹•ï¼Œæ˜¯è¾²ç”°ç”Ÿæ…‹ç³»çš„é‡è¦æŒ‡æ¨™ã€‚' },
                { id: 'c4', name: 'çŸ³è™', emoji: 'ğŸ…', description: 'å°ç£ç¾å­˜å”¯ä¸€çš„é‡ç”Ÿè²“ç§‘å‹•ç‰©ï¼Œæ“…é•·æ•çµå°å‹å“ºä¹³å‹•ç‰©ï¼Œæ˜¯ç¶­æŒæ£®æ—ç”Ÿæ…‹å¹³è¡¡çš„é ‚ç´šæ é£Ÿè€…ã€‚' },
                { id: 'c5', name: 'ç¶ è µé¾œ', emoji: 'ğŸŒŠğŸ¢', description: 'å¤§å‹æ´„æ¸¸æ€§æµ·é¾œï¼Œä»¥æµ·è‰å’Œå¤§å‹è—»é¡ç‚ºä¸»é£Ÿï¼Œå°ç¶­æŒæµ·è‰åºŠå¥åº·æœ‰é—œéµä½œç”¨ã€‚' }
            ],
            habitat: [
                { id: 'h1', name: 'ç†±å¸¶åŠäºç†±å¸¶æµ·åŸŸ', emoji: 'ğŸï¸', description: 'çŠç‘šç¤ã€æµ·è‰åºŠã€æ²¿å²¸æ²™ç˜ã€‚äººé¡æ´»å‹•æŒ‡æ•¸ï¼šä¸­è‡³é«˜' },
                { id: 'h2', name: 'ä½æµ·æ‹”ä¸˜é™µæ—åœ°', emoji: 'ğŸŒ³ğŸŒ²', description: 'ä½æµ·æ‹”è‡³ä¸­æµ·æ‹”çš„ä¸˜é™µã€æ¬¡ç”Ÿæ—ã€ç«¹æ—ã€è¾²ç”°ã€èŒ¶åœ’åŠé„‰æ‘é‚Šç·£ï¼Œå…·éš±è”½æ€§çš„çŒå¢èˆ‡æ—åœ°ã€‚äººé¡æ´»å‹•æŒ‡æ•¸ï¼šä¸­è‡³é«˜' },
                { id: 'h3', name: 'å¤šæ¨£åŒ–è¾²ç”°ç”Ÿæ…‹ç³»', emoji: 'ğŸŒ¾ğŸ’§', description: 'è¾²ç”°ã€æº¼åœ°ã€æ¨¹æ—é‚Šç·£ã€æ± å¡˜ã€çŒæœ¨å¢ç­‰å¤šæ¨£åŒ–ç”Ÿæ…‹ç’°å¢ƒã€‚äººé¡æ´»å‹•æŒ‡æ•¸ï¼šä¸­è‡³é«˜' },
                { id: 'h4', name: 'ä¸˜é™µæ£®æ—æ¿•åœ°', emoji: 'â›°ï¸ğŸï¸', description: 'ä½æµ·æ‹”è‡³ä¸­æµ·æ‹”çš„ä¸˜é™µã€æ£®æ—ã€çŒå¢ã€æ¿•åœ°ã€è¾²ç”°é‚Šç·£ç­‰ã€‚äººé¡æ´»å‹•æŒ‡æ•¸ï¼šä¸­' },
                { id: 'h5', name: 'è‰åŸæ£®æ—è¾²å ´', emoji: 'ğŸŒ¿ğŸ¦‹', description: 'è‰åŸã€æ£®æ—é‚Šç·£ã€è¾²å ´ã€æœåœ’ç­‰ã€‚äººé¡æ´»å‹•æŒ‡æ•¸ï¼šä¸­è‡³é«˜' }
            ],
            clue: [
                { id: 'cl1', name: 'è§€å…‰èˆ‡éŠæ†©æ´»å‹•', emoji: 'ğŸ–ï¸ğŸš¤', description: 'æ²¿å²¸è§€å…‰ã€æ²™ç˜éŠæ†©ã€æ°´ä¸Šé‹å‹•ï¼ˆæ½›æ°´ã€æµ®æ½›ã€éŠè‰‡ï¼‰å¯èƒ½å¹²æ“¾é‡ç”Ÿå‹•ç‰©ä½œæ¯ï¼Œç ´å£æ£²åœ°ã€‚' },
                { id: 'cl2', name: 'è¾²æ¥­ç”Ÿç”¢èˆ‡åœŸåœ°åˆ©ç”¨', emoji: 'ğŸšœğŸŒ±', description: 'è¾²æ¥­è€•ä½œã€è¾²ä½œè€•ç¨®ã€è¾²åœ°é–‹å¢¾ã€èŒ¶åœ’ç¨®æ¤ã€è¾²åœ°æ•´ç†ã€é­šå¡˜é¤Šæ®–ã€æ°´å¡˜æ•´æ²»ï¼Œå¯èƒ½å°è‡´æ£²åœ°ç ´ç¢åŒ–ã€å–®ä¸€åŒ–ã€‚' },
                { id: 'cl3', name: 'åŸºç¤è¨­æ–½èˆ‡é–‹ç™¼å»ºè¨­', emoji: 'ğŸ—ï¸ğŸ˜ï¸', description: 'é“è·¯å»ºè¨­ã€èšè½æ“´å±•ã€æ¸¯å£/å·¥æ¥­è¨­æ–½ã€åœŸåœ°é–‹ç™¼ã€æ°´åˆ©è¨­æ–½ï¼ˆçŒæº‰ã€æ’æ°´ï¼‰ã€æ—åœ°é–‹å¢¾ï¼Œå¸¸é€ æˆæ£²åœ°æ°¸ä¹…æ€§æ¶ˆå¤±ã€‚' },
                { id: 'cl4', name: 'è³‡æºåˆ©ç”¨èˆ‡éæ³•è¡Œç‚º', emoji: 'ğŸ£ğŸš«', description: 'éåº¦æ•é­šã€éæ³•æ¡åµã€éæ³•æ•çµã€éæ³•æ•æ‰ï¼Œç›´æ¥å¨è„…ç‰©ç¨®ç”Ÿå­˜ã€‚' },
                { id: 'cl5', name: 'åŒ–å­¸ç‰©è³ªä½¿ç”¨', emoji: 'ğŸ§ªâš ï¸', description: 'è¾²è—¥æ–½ç‘ã€é™¤è‰åŠ‘ä½¿ç”¨ã€æ¯’é¤Œæ–½ç”¨ï¼Œå¯èƒ½æ¯’å®³éç›®æ¨™ç‰©ç¨®ï¼Œæ±¡æŸ“åœŸå£¤å’Œæ°´æºã€‚' },
                { id: 'cl6', name: 'ç’°å¢ƒæ±¡æŸ“', emoji: 'ğŸ—‘ï¸ğŸ­', description: 'æµ·æ´‹æ±¡æŸ“ï¼ˆåƒåœ¾ã€å¡‘è† ï¼‰ã€å·¥æ¥­å»¢æ°´ã€ç©ºæ°£æ±¡æŸ“ç­‰ï¼Œå…¨é¢æ€§åœ°å½±éŸ¿ç”Ÿæ…‹ç’°å¢ƒå“è³ªã€‚' }
            ],
            solution: [
                { id: 's1', name: 'æ¸›å¡‘è¡Œå‹•èˆ‡åƒåœ¾ç®¡ç†', emoji: 'â™»ï¸ğŸ›ï¸', description: 'é¸ç”¨å¯é‡è¤‡ä½¿ç”¨çš„é¤å…·ã€è³¼ç‰©è¢‹ã€æ¯å­ï¼Œæ¸›å°‘ä¸€æ¬¡æ€§å¡‘è† ä½¿ç”¨ã€‚æ­£ç¢ºåƒåœ¾åˆ†é¡èˆ‡å›æ”¶ã€‚é¿å…è³¼è²·å«æœ‰å¾®å¡‘è† ã€é›£åˆ†è§£å¡‘è† åŒ…æçš„ç”¢å“ã€‚æ¸›å°‘æµ·æ´‹èˆ‡å…§é™¸åƒåœ¾ï¼Œé™ä½å°é‡ç”Ÿå‹•ç‰©çš„å±å®³ã€‚' },
                { id: 's2', name: 'å‹å–„è¾²æ¼ç”¢å“æ¶ˆè²»', emoji: 'ğŸ¥•ğŸŸ', description: 'æ”¯æŒèˆ‡è³¼è²·å‹å–„è€•ä½œã€æ¸›è¾²è—¥ä½¿ç”¨è¾²ç”¢å“ï¼Œæœ‰åŠ©æ–¼æ£²åœ°å¤šæ¨£æ€§ç”Ÿç‰©ç”Ÿå­˜ã€‚é™ä½æ°´é«”èˆ‡åœŸå£¤æ±¡æŸ“ï¼Œæœ‰åŠ©ç”Ÿæ…‹ç³»æ¢å¾©ã€‚æ”¯æŒç”Ÿç”¢ç«¯ä¿ç•™è‡ªç„¶æ£²åœ°èˆ‡å¤šæ¨£åŒ–ä½œç‰©ã€‚é¸æ“‡å…·æœ‰æ°¸çºŒèªè­‰çš„æ°´ç”¢å“ã€‚é¿å…éåº¦æ•æ’ˆï¼Œå®ˆè­·æµ·æ´‹ç”Ÿæ…‹ã€‚' },
                { id: 's3', name: 'ç”Ÿæ…‹æ—…éŠèˆ‡å‹å–„è§€å…‰', emoji: 'ğŸš¶â€â™‚ï¸ğŸï¸', description: 'å¤–å‡ºæ—…éŠéµå®ˆç”Ÿæ…‹è¦ç¯„ã€‚æ³¨æ„å‹•ç‰©ç¹æ®–å­£ç¯€ï¼Œä¸é€²å…¥é‡ç”Ÿå‹•ç‰©ç¹æ®–åœ°ã€‚ä¸æ¡é›†ã€ä¸é¤µé£Ÿé‡ç”Ÿå‹•ç‰©ã€‚é¸æ“‡æœ‰ç”Ÿæ…‹å‹å–„èªè­‰çš„æ—…å®¿èˆ‡éŠç¨‹ã€‚æ”¯æŒä¸å¹²æ“¾é‡ç”Ÿå‹•ç‰©ã€ä¿è­·æ£²åœ°çš„è¾²å‹åŠè§€å…‰æ¥­è€…ã€‚' },
                { id: 's4', name: 'ç¤¾å€è¡Œå‹•èˆ‡å¿—å·¥åƒèˆ‡', emoji: 'ğŸ¤ğŸ§¤', description: 'åƒåŠ ç¤¾å€å·¡å®ˆæˆ–è‡ªç„¶å¿—å·¥ã€‚å”åŠ©ç¤¾å€é€²è¡Œå¤–ä¾†ç¨®ç§»é™¤ã€åƒåœ¾æ·¨å±±ï¼ˆæµ·ï¼‰ã€æ£²åœ°ç›£æ¸¬ç­‰ã€‚åƒèˆ‡ä¸¦é¸è³¼æ¨å‹•ç’°å¢ƒä¿è‚²çš„ç¤¾å€å“ç‰Œæˆ–åœ˜é«”ç”¢å“ã€‚å¦‚æ¨å»£ä¿è‚²è¾²ç”¢ã€æ£²åœ°å¾©è‚²è¨ˆç•«å•†å“ï¼Œè®“æ¶ˆè²»æˆç‚ºç’°å¢ƒè¡Œå‹•çš„ä¸€éƒ¨åˆ†ã€‚' },
                { id: 's5', name: 'ç”Ÿæ…‹ç’°å¢ƒæ•™è‚²æ¨å‹•', emoji: 'ğŸ§‘â€ğŸ«ğŸ“š', description: 'æ¨å‹•æˆ–åƒåŠ ç”Ÿæ…‹ç’°å¢ƒæ•™è‚²æ´»å‹•ã€‚å­¸æ ¡èˆ‡ç¤¾å€å®šæœŸèˆ‰è¾¦ç”Ÿæ…‹è§£èªªã€æ£²åœ°å¾©è‚²ã€ç”°é‡é«”é©—èª²ç¨‹ã€‚' },
                { id: 's6', name: 'è¨­ç½®ç”Ÿç‰©ç¶ å¸¶', emoji: 'ğŸŒ³ğŸ¦‹ğŸ¾', description: 'å»ºç«‹æˆ–ç¶­è­·é€£æ¥ç ´ç¢æ£²åœ°çš„å»Šé“ï¼Œå¹«åŠ©é‡ç”Ÿå‹•ç‰©å®‰å…¨é·ç§»ã€è¦“é£Ÿèˆ‡ç¹æ®–ï¼Œå¢åŠ ç”Ÿç‰©å¤šæ¨£æ€§ã€‚' },
                { id: 's7', name: 'ç¶ è‰²æ¶ˆè²»', emoji: 'ğŸ›ï¸ğŸŒğŸ’š', description: 'é¸æ“‡å°ç’°å¢ƒå‹å–„ã€ä½æ±¡æŸ“ã€å¯å›æ”¶æˆ–ä¾†è‡ªæ°¸çºŒä¾†æºçš„ç”¢å“èˆ‡æœå‹™ï¼Œæ¸›å°‘æ¶ˆè²»è¡Œç‚ºå°ç’°å¢ƒçš„è² æ“”ã€‚' }
            ]
        };

        let drawnCards = {
            character: null,
            habitat: null,
            clue: null,
            solution: null 
        };
        let chosenSolutionCard = null; 

        let situationRevealed = false;
        let allCluesRevealed = false;
        const SITUATION_TEXT = "å®¶é„‰çš„åŒä¼´éƒ½ä¸è¦‹äº†! ä»–å€‘å»äº†å“ªè£¡ï¼Ÿ";

        // Function to draw a card
        function drawCard(type) {
            const cards = cardData[type];
            if (!cards || cards.length === 0) return;

            const randomIndex = Math.floor(Math.random() * cards.length);
            const card = cards[randomIndex];
            
            drawnCards[type] = card;

            const cardContainer = document.getElementById(`${type}CardContainer`);
            const cardBack = document.getElementById(`${type}CardBack`);
            
            cardBack.innerHTML = `
                <p class="text-2xl mb-2">${card.emoji}</p>
                <h4 class="text-lg font-bold mb-1">${card.name}</h4>
                <p class="text-xs text-left">${card.description}</p>
            `;
            if (!cardContainer.classList.contains('flipped')) {
                cardContainer.classList.add('flipped');
            }

            updateDrawnCardDisplay(type, card);
            updateStoryFormWithCard(type, card);
        }

        // Function to update the "My Drawn Cards" section
        function updateDrawnCardDisplay(type, card) {
            const displayElement = document.getElementById(`drawn${type.charAt(0).toUpperCase() + type.slice(1)}Card`);
            if (displayElement) {
                displayElement.innerHTML = `
                    <h3>${cardTypeToChinese(type)}ï¼š</h3>
                    <p class="emoji">${card.emoji}</p>
                    <p class="font-semibold">${card.name}</p>
                    <p class="text-sm text-gray-600">${card.description}</p>
                `;
            }
        }
        
        function cardTypeToChinese(type) {
            switch(type) {
                case 'character': return 'è§’è‰²å¡';
                case 'habitat': return 'æ£²åœ°å¡';
                case 'clue': return 'ç·šç´¢å¡';
                case 'solution': return 'è§£æ–¹å¡';
                default: return '';
            }
        }

        // Function to update story form with drawn card info
        function updateStoryFormWithCard(type, card) {
            if (type === 'character') {
                document.getElementById('storyCharacterName').textContent = card.name;
                document.getElementById('animalKnowledgeLabel').innerHTML = `${card.name}æœ‰ä¸€äº›ç¨ç‰¹çš„ç‰¹æ€§æ˜¯ (å¯«ä¸‹è‡ªå·±å°<span class="font-bold text-indigo-600">${card.name}</span>çš„èªè­˜):`;
                const hometownCharNameSpan = document.getElementById('hometownCharacterNameDisplay');
                if (hometownCharNameSpan) { 
                    hometownCharNameSpan.textContent = card.name;
                }
                const solutionCharNameSpan = document.getElementById('solutionCharacterName');
                if (solutionCharNameSpan) {
                    solutionCharNameSpan.textContent = card.name;
                }
            } else if (type === 'habitat') {
                document.getElementById('storyHabitatName').textContent = card.name;
            } else if (type === 'clue') {
                document.getElementById('storyClueNameForReasoning').textContent = `${card.name} (${card.emoji})`;
            } else if (type === 'solution') {
                // This updates the "randomly drawn" solution card display
                document.getElementById('storySolutionName').textContent = `${card.name} (${card.emoji})`;
            }
        }
        
        // Function to reveal situation
        function revealSituation() {
            const passwordInput = document.getElementById('situationPassword');
            const passwordError = document.getElementById('passwordError');
            const situationCardDisplay = document.getElementById('situationCardDisplay');
            const passwordPrompt = document.getElementById('passwordPrompt');
            const clueReasoningTextarea = document.getElementById('clueReasoning');
            const situationContextClueSpan = document.getElementById('situationContextForClue');
            const situationContextReasoningSpan = document.getElementById('situationContextForReasoning');

            if (passwordInput.value === 'SOS99999') {
                situationCardDisplay.classList.remove('hidden');
                passwordPrompt.classList.add('hidden'); 
                passwordError.classList.add('hidden');
                situationRevealed = true;

                if (clueReasoningTextarea) {
                    clueReasoningTextarea.value = SITUATION_TEXT; 
                }
                if (situationContextClueSpan) {
                    situationContextClueSpan.textContent = SITUATION_TEXT; 
                }
                if (situationContextReasoningSpan) {
                    situationContextReasoningSpan.textContent = SITUATION_TEXT; 
                }
                updateAdventureStory(); 
            } else {
                passwordError.classList.remove('hidden');
                passwordInput.value = ''; 
            }
        }

        // Function to reveal all clues
        function revealAllClues() {
            const passwordInput = document.getElementById('allCluesPassword');
            const passwordError = document.getElementById('allCluesPasswordError');
            const allCluesDisplay = document.getElementById('allCluesDisplay');
            const allCluesPasswordPrompt = document.getElementById('allCluesPasswordPrompt');

            if (passwordInput.value === '99999') {
                allCluesPasswordPrompt.classList.add('hidden');
                passwordError.classList.add('hidden');
                allCluesDisplay.classList.remove('hidden');
                allCluesDisplay.innerHTML = ''; 

                cardData.clue.forEach(clue => {
                    const clueDiv = document.createElement('div');
                    clueDiv.className = 'all-clues-card-display p-3'; 
                    clueDiv.innerHTML = `
                        <p class="emoji">${clue.emoji}</p>
                        <h4 class="text-md font-semibold mb-1">${clue.name}</h4>
                        <p class="text-xs text-gray-600">${clue.description}</p>
                    `;
                    allCluesDisplay.appendChild(clueDiv);
                });
                allCluesRevealed = true;
                updateAdventureStory();
            } else {
                passwordError.classList.remove('hidden');
                passwordInput.value = '';
            }
        }
        
        // Function to update the adventure story text area
        function updateAdventureStory() {
            const form = document.getElementById('storyForm');
            const formData = new FormData(form);
            let story = `æˆ‘çš„åå­—å« ${formData.get('myName') || '(æœªå¡«å¯«)'}ã€‚\n`;
            story += `ä»Šå¤©æˆ‘åŒ–èº«ç‚ºä¸€éš» ${drawnCards.character ? drawnCards.character.name : '(æœªé¸æ“‡è§’è‰²)'} (${drawnCards.character ? drawnCards.character.emoji : ''})ã€‚\n`;
            story += `æˆ‘æ‰¾åˆ°çš„å¤¥ä¼´åå­—æ˜¯ï¼š${formData.get('partnerNames') || '(æœªå¡«å¯«)'}ã€‚\n`;
            story += `ä»–å€‘çš„å°ˆæ¥­åŒ…å«äº†ï¼š${formData.get('partnerExpertise') || '(æœªå¡«å¯«)'}ã€‚\n`;
            story += `æˆ‘æœ‰ä¿¡å¿ƒä¸€èµ·å°‹æ‰¾æˆ‘å€‘çš„æ£²åœ°æ‰¾åˆ°æˆ‘å€‘çš„å®¶é„‰å®Œæˆä»Šå¤©çš„ä»»å‹™ã€‚\n\n`;

            story += `${drawnCards.character ? drawnCards.character.name : 'æˆ‘'}æœ‰ä¸€äº›ç¨ç‰¹çš„ç‰¹æ€§æ˜¯ï¼š${formData.get('animalKnowledge') || '(æœªå¡«å¯«)'}\n\n`;
            
            story += `æˆ‘æŠ½åˆ°çš„æ£²åœ°å¡(å®¶åœ’)æ˜¯ ${drawnCards.habitat ? drawnCards.habitat.name : '(æœªé¸æ“‡æ£²åœ°)'} (${drawnCards.habitat ? drawnCards.habitat.emoji : ''})ã€‚\n`;
            const isHometown = formData.get('isHometown');
            story += `æˆ‘è¦ºå¾—é€™å¯èƒ½ ${isHometown ? isHometown : '(æœªé¸æ“‡)'} æˆ‘çš„å®¶é„‰ã€‚\n`;
            story += `æ–¼æ˜¯æˆ‘èˆ‡æˆ‘å€‘å¤¥ä¼´å€‘ä¸€èµ·è¨è«–ï¼Œæˆ‘å€‘çš„å®¶é„‰æ‡‰è©²(é‚„)æœƒæœ‰..... (èªªæ˜æœ‰åˆ©æ–¼${drawnCards.character ? drawnCards.character.name : '(è§’è‰²)'}ç”Ÿæ´»å±…ä½çš„ç†ç”±)ï¼š${formData.get('hometownDiscussion') || '(æœªå¡«å¯«ç†ç”±)'}\n`;
            
            story += `\n--- æ£²åœ°å¡äº¤æ›çµæœ ---\n`;
            story += `æˆ‘çœŸæ­£éœ€è¦çš„æ£²åœ°å¡æ˜¯ï¼š${formData.get('neededHabitatCard') || '(æœªé¸æ“‡)'}ã€‚\n`;
            story += `æˆ‘å€‘çš„éšŠä¼åœ¨äº¤æµå¾Œï¼Œç¸½å…±å–å¾—äº† ${formData.get('correctCardsObtained') || '0'} å¼µæ­£ç¢ºçš„æ£²åœ°å¡ã€‚\n`;
            story += `èˆ‡å…¶ä»–éšŠä¼çš„äº¤æ›è©³æƒ…ï¼š\n`;
            let exchangeMade = false;
            for (let i = 1; i <= 4; i++) { 
                const team = formData.get(`exchangeTeam${i}`);
                const count = formData.get(`exchangeCount${i}`);
                if (team && count && parseInt(count) > 0) {
                    story += `  - æˆ‘å€‘è·Ÿ ${team} éšŠä¼äº¤æ›äº† ${count} å¼µæ£²åœ°å¡ã€‚\n`;
                    exchangeMade = true;
                }
            }
            if (!exchangeMade) {
                story += `  (å°šç„¡è©³ç´°äº¤æ›ç´€éŒ„)\n`;
            }
            let thanksTo = [];
            for (let i = 1; i <= 5; i++) {
                const partnerName = formData.get(`finalThanksPartner${i}`);
                if (partnerName) {
                    thanksTo.push(partnerName);
                }
            }
            if (thanksTo.length > 0) {
                story += `æœ€çµ‚ï¼Œè¬è¬ ${thanksTo.join('ã€')} å¹«åŠ©æˆ‘ç²å¾—äº†æ­£ç¢ºçš„æ£²åœ°å¡ï¼\n`;
            } else {
                story += `æœ€çµ‚ï¼Œ(æ²’æœ‰ç‰¹åˆ¥æ„Ÿè¬çš„å°è±¡)å¹«åŠ©æˆ‘ç²å¾—äº†æ­£ç¢ºçš„æ£²åœ°å¡ï¼\n`;
            }

            story += `æˆ‘çš„å…¶ä»–å¤¥ä¼´ä¹Ÿéƒ½æ‰¾åˆ°æ­£ç¢ºçš„æ£²åœ°å¡äº†ï¼Œç¾åœ¨æˆ‘å€‘è¦ä¸€èµ·å›åˆ°æˆ‘å€‘çš„å®¶é„‰å»çœ‹çœ‹äº†!....\n\n`;
            
            const mysteryContextForStory = situationRevealed ? SITUATION_TEXT : "???";

            if (situationRevealed) {
                story += `--- ç·Šæ€¥æƒ…å¢ƒï¼ ---\n`;
                story += `å›åˆ°å®¶é„‰å¾Œï¼Œå»ç™¼ç¾${SITUATION_TEXT} æˆ‘å€‘å¿…é ˆæ‰¾å‡ºç·šç´¢ï¼\n\n`;
            }
            
            story += `ç‚ºäº†è§£æ±º${mysteryContextForStory}çš„è¬åœ˜ï¼Œ\n`;
            story += `æˆ‘å’Œçµ„å“¡å¤¥ä¼´æ¨ç†å‡º${mysteryContextForStory}çš„å¯èƒ½åŸå› æ˜¯ï¼š${formData.get('clueReasoning') || (situationRevealed ? SITUATION_TEXT : '(æœªå¡«å¯«)' )}\n`;

            story += `æˆ‘æŠ½åˆ°çš„ç·šç´¢æ˜¯ ${drawnCards.clue ? drawnCards.clue.name + ' (' + drawnCards.clue.emoji + ')' : '(æœªé¸æ“‡ç·šç´¢)'}ã€‚\n`; 
            const isClueReason = formData.get('isClueReason');
            story += `æˆ‘èªç‚ºé€™ ${isClueReason ? isClueReason : '(æœªé¸æ“‡)'} ${document.getElementById('clueReasonSuffix').textContent.trim()}\n`; 
            story += `${document.getElementById('clueFollowUpText').textContent.trim()}\n\n`; 

            if (allCluesRevealed) {
                story += `æŒ‡å°è€å¸«æ­éœ²äº†æ‰€æœ‰å¯èƒ½çš„ç·šç´¢ï¼Œæˆ‘å€‘ç™¼ç¾ï¼š\n`;
                cardData.clue.forEach(clue => {
                    story += `- ${clue.name}: ${clue.description}\n`;
                });
                story += "\n";
            }

            story += `--- å°‹æ‰¾è§£æ–¹ ---\n`;
            story += `é€™äº›ç·šç´¢éƒ½é¡¯ç¤ºäººé¡é«˜åº¦æ´»å‹•é€ æˆçš„ç’°å¢ƒå½±éŸ¿ï¼Œå› ç‚ºæˆ‘å€‘å±…ä½çš„åœ°æ–¹ï¼Œèˆ‡äººé¡çš„æ´»å‹•ç¯„åœæœ‰é«˜åº¦çš„é‡ç–Šï¼Œé€ æˆæˆ‘å€‘æ£²åœ°çš„ç ´å£ï¼›æˆ‘å€‘éƒ½æ˜¯ç”Ÿæ…‹éˆä¸­é‡è¦çš„ä¸€ç’°ï¼Œå› æ­¤æˆ‘å€‘å¸Œæœ›äººé¡èƒ½å¤ å°æˆ‘å€‘æ›´å‹å–„ã€‚\n`;
            story += `æ£²åœ°çš„æ¢ç´¢ä¸­ï¼Œæˆ‘å’Œå¤¥ä¼´å€‘ä¸€èµ·è¨è«–å¾—å‡ºçµè«–æ˜¯â€¦â€¦.æˆ‘å€‘å¸Œæœ›äººé¡èƒ½å¤  ${formData.get('resourceUtilizationLevel') || '(æœªé¸æ“‡)'} çš„åˆ©ç”¨è³‡æºï¼Œè®“ã€ç”Ÿæ…‹æœå‹™å¯ä»¥æ°¸çºŒã€‘ã€‚\n`;
            story += `*é€éè€å¸«çš„æ•™å­¸æˆ‘å€‘æ›´äº†è§£ã€ç”Ÿæ…‹æœå‹™ã€‘æ˜¯äººé¡çš„ã€Œç”Ÿå‘½æ”¯æŒç³»çµ±ã€ï¼Œç‚ºäººé¡æä¾›å¿…è¦çš„ç”Ÿæ…‹ç³»æœå‹™ã€‚ï¼Œå› æ­¤ç¹¼çºŒè¨è«–åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæœ‰å“ªäº›è¡Œç‚ºå¯ä»¥æˆç‚ºæ”¹è®Šçš„è§£æ–¹ã€‚\n\n`;
            
            const desiredSolutionName = formData.get('desiredSolutionCard');
            const test1UnEcoItem = formData.get('test1UnEcoItem') || '(æœªå¡«å¯«)';
            const test2UnEcoReason = formData.get('test2UnEcoReason') || '(æœªå¡«å¯«)';
            const test1Passed = test1UnEcoItem.length > 2;
            const test2Passed = test2UnEcoReason.length > 5;

            if (desiredSolutionName) {
                story += `åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæœ‰å“ªäº›è¡Œç‚ºå¯ä»¥æˆç‚ºæ”¹è®Šçš„è§£æ–¹ã€‚ç¶“éåæ€ï¼Œæˆ‘æƒ³è¦åŠªåŠ›é”æˆçš„è§£æ–¹æ˜¯ï¼š${desiredSolutionName}ã€‚\n`;
                if (test1Passed) {
                    story += `è€ƒé©—1 - æˆ‘çš„ä¸ç’°ä¿è¡Œç‚º/ç‰©å“ï¼š${test1UnEcoItem}\n`;
                    if (test2Passed) {
                        story += `è€ƒé©—2 - ä¸ç’°ä¿çš„ç†ç”±ï¼š${test2UnEcoReason}\n`;
                        story += `(å·²é€šéè€ƒé©—ï¼ŒæˆåŠŸé–å®šæ­¤è§£æ–¹ï¼)\n`;
                    } else {
                        story += `(è€ƒé©—2æœªå®Œæˆæˆ–æœªé€šé)\n`;
                    }
                } else {
                     story += `(è€ƒé©—1æœªå®Œæˆæˆ–æœªé€šé)\n`;
                }
            } else {
                story += `æˆ‘éš¨æ©ŸæŠ½åˆ°çš„è§£æ–¹å¡æç¤ºæ˜¯ï¼š${drawnCards.solution ? drawnCards.solution.name + ' (' + drawnCards.solution.emoji + ')' : '(æœªæŠ½å–/é¸æ“‡è§£æ–¹)'}ã€‚\n`;
            }
            
            story += `é‡å°æˆ‘å€‘çš„æ£²åœ°(${drawnCards.character ? drawnCards.character.name : '(è§’è‰²)'})å—åˆ°ç ´å£ï¼Œæˆ‘èªç‚ºé€éäººé¡è¡Œç‚ºå¯ä»¥ä¿®å¾©çš„è§£æ–¹æ˜¯ï¼š${formData.get('habitatRepairSolution') || '(æœªå¡«å¯«)'}\n`;
            story += `æˆ‘å°é€™å€‹è§£æ–¹çš„ç†è§£ä»¥åŠåœ¨ç”Ÿæ´»ä¸­æ‡‰ç”¨çš„æ¡ˆä¾‹æ˜¯? ${formData.get('ecoChange') || '(æœªå¡«å¯«)'}\n\n`;

            story += `--- æˆ‘çš„åæ€èˆ‡æŒ‘æˆ° ---\n`;
            story += `é€™å’Œæˆ‘çš„è§’è‰²å®¶åœ’æœ‰ä»€éº¼é—œä¿‚ï¼Ÿ ${formData.get('relationToHome') || '(æœªå¡«å¯«)'}\n\n`;
            story += `æˆ‘å€‘å°çµ„æå‡ºçš„åˆä½œæ–¹æ¡ˆæ˜¯ï¼š${formData.get('groupPlan') || '(æœªå¡«å¯«)'}\n`;
            story += `æˆ‘å€‹äººçš„è¡Œå‹•æ‰¿è«¾æ˜¯ï¼š${formData.get('personalCommitment') || '(æœªå¡«å¯«)'}\n`;

            document.getElementById('adventureStory').value = story;
        }
        
        // Download story functionality
        document.getElementById('downloadStoryBtn').addEventListener('click', () => {
            updateAdventureStory(); 
            const storyText = document.getElementById('adventureStory').value;
            const myName = document.getElementById('myName').value || 'ç©å®¶';
            
            let htmlContent = `
                <!DOCTYPE html>
                <html lang="zh-TW">
                <head>
                    <meta charset="UTF-8">
                    <title>${myName}çš„ç’°å¢ƒå†’éšªæ•…äº‹</title>
                    <style>
                        body { font-family: Arial, sans-serif; line-height: 1.6; padding: 20px; background-color: #f4f4f4; color: #333; }
                        .container { max-width: 800px; margin: auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
                        h1, h2 { color: #2c5282; }
                        .card-section { margin-bottom: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 5px; background-color: #f9f9f9;}
                        .card-section h3, .card-section h4 { margin-top: 0; font-size: 1.2em; }
                        .card-section .emoji { font-size: 2em; margin-right: 10px; vertical-align: middle; }
                        .story-content { white-space: pre-wrap; background-color: #e9f5ff; padding: 15px; border-radius: 5px; font-family: 'Courier New', Courier, monospace; }
                        .form-data p { margin: 5px 0; }
                        .form-data strong { color: #2c5282; min-width: 180px; display: inline-block;}
                        .situation-active { background-color: #fee2e2 !important; border-color: #f87171 !important; }
                        .situation-active h4 { color: #b91c1c !important; }
                        .all-clues-section { background-color: #e0f2fe !important; border-color: #7dd3fc !important; }
                        .all-clues-section h3 { color: #0369a1 !important; }
                        .all-clues-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
                        .clue-item { border: 1px solid #ccc; padding: 10px; border-radius: 4px; background: #fff; }
                        .clue-item .emoji { font-size: 1.5em; }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h1>${myName}çš„ç’°å¢ƒå†’éšªæ•…äº‹</h1>
            `;

            htmlContent += `<h2>æˆ‘æŠ½åˆ°çš„å¡ç‰‡ï¼š</h2>`;
            if (drawnCards.character) {
                htmlContent += `
                    <div class="card-section">
                        <h3><span class="emoji">${drawnCards.character.emoji}</span>è§’è‰²å¡ï¼š${drawnCards.character.name}</h3>
                        <p>${drawnCards.character.description}</p>
                    </div>`;
            }
            if (drawnCards.habitat) {
                htmlContent += `
                    <div class="card-section">
                        <h3><span class="emoji">${drawnCards.habitat.emoji}</span>æ£²åœ°å¡ï¼š${drawnCards.habitat.name}</h3>
                        <p>${drawnCards.habitat.description}</p>
                    </div>`;
            }
             if (situationRevealed) {
                htmlContent += `
                    <div class="card-section situation-active">
                        <h4><span class="emoji">âš ï¸</span>ç·Šæ€¥æƒ…å¢ƒå·²æ­éœ²</h4>
                        <p>${SITUATION_TEXT}</p>
                    </div>`;
            }
            if (drawnCards.clue) {
                 htmlContent += `
                    <div class="card-section">
                        <h3><span class="emoji">${drawnCards.clue.emoji}</span>æˆ‘æŠ½åˆ°çš„ç·šç´¢å¡ï¼š${drawnCards.clue.name}</h3>
                        <p>${drawnCards.clue.description}</p>
                    </div>`;
            }

            if (allCluesRevealed) {
                htmlContent += `<div class="card-section all-clues-section"><h3><span class="emoji">ğŸ”</span>æ‰€æœ‰å¯èƒ½çš„ç·šç´¢ï¼š</h3><div class="all-clues-grid">`;
                cardData.clue.forEach(clue => {
                    htmlContent += `<div class="clue-item"><p class="emoji">${clue.emoji}</p><strong>${clue.name}</strong><p>${clue.description}</p></div>`;
                });
                htmlContent += `</div></div>`;
            }

            const form = document.getElementById('storyForm');
            const currentFormData = new FormData(form);
            const desiredSolutionName = currentFormData.get('desiredSolutionCard');
            const test1UnEcoItem = currentFormData.get('test1UnEcoItem');
            const test2UnEcoReason = currentFormData.get('test2UnEcoReason');
            const test1Passed = test1UnEcoItem && test1UnEcoItem.length > 2;
            const test2Passed = test2UnEcoReason && test2UnEcoReason.length > 5;

            if (desiredSolutionName && test1Passed && test2Passed) {
                 const chosenSolutionData = cardData.solution.find(s => s.name === desiredSolutionName);
                 if(chosenSolutionData){
                    htmlContent += `
                    <div class="card-section" style="background-color: #d1fae5; border-color: #6ee7b7;">
                        <h3><span class="emoji">${chosenSolutionData.emoji}</span>æˆ‘åŠªåŠ›é”æˆçš„è§£æ–¹ï¼š${chosenSolutionData.name}</h3>
                        <p>${chosenSolutionData.description}</p>
                    </div>`;
                 }
            } else if (drawnCards.solution) { 
                htmlContent += `
                    <div class="card-section">
                        <h3><span class="emoji">${drawnCards.solution.emoji}</span>æˆ‘éš¨æ©ŸæŠ½åˆ°çš„è§£æ–¹å¡æç¤ºï¼š${drawnCards.solution.name}</h3>
                        <p>${drawnCards.solution.description}</p>
                    </div>`;
            }


            htmlContent += `<h2>æˆ‘çš„æ•…äº‹èˆ‡åæ€ç­†è¨˜ï¼š</h2>`;
            htmlContent += `<div class="form-data">`;
            
            const formElements = document.getElementById('storyForm').elements;
            const formLabels = { 
                myName: "æˆ‘çš„åå­—å«",
                partnerNames: "æˆ‘æ‰¾åˆ°çš„å¤¥ä¼´åå­—æ˜¯",
                partnerExpertise: "ä»–å€‘çš„å°ˆæ¥­åŒ…å«äº†",
                animalKnowledge: `${drawnCards.character ? drawnCards.character.name : 'æˆ‘'}æœ‰ä¸€äº›ç¨ç‰¹çš„ç‰¹æ€§æ˜¯ (å¯«ä¸‹è‡ªå·±å°${drawnCards.character ? drawnCards.character.name : 'è©²å‹•ç‰©'}çš„èªè­˜)`,
                isHometown: "æˆ‘æŠ½åˆ°çš„æ£²åœ°å¡æ˜¯å¦ç‚ºæˆ‘çš„å®¶é„‰",
                hometownDiscussion: `æ–¼æ˜¯æˆ‘èˆ‡æˆ‘å€‘å¤¥ä¼´å€‘ä¸€èµ·è¨è«–ï¼Œæˆ‘å€‘çš„å®¶é„‰æ‡‰è©²(é‚„)æœƒæœ‰..... (èªªæ˜æœ‰åˆ©æ–¼${drawnCards.character ? drawnCards.character.name : '(è§’è‰²)'}ç”Ÿæ´»å±…ä½çš„ç†ç”±)`,
                neededHabitatCard: "æˆ‘çœŸæ­£éœ€è¦çš„æ£²åœ°å¡æ˜¯",
                correctCardsObtained: "æˆ‘å€‘éšŠä¼æ›åˆ°çš„æ­£ç¢ºæ£²åœ°å¡æ•¸é‡",
                exchangeTeam1: "èˆ‡éšŠä¼1äº¤æ›",
                exchangeCount1: "äº¤æ›æ•¸é‡1",
                exchangeTeam2: "èˆ‡éšŠä¼2äº¤æ›",
                exchangeCount2: "äº¤æ›æ•¸é‡2",
                exchangeTeam3: "èˆ‡éšŠä¼3äº¤æ›",
                exchangeCount3: "äº¤æ›æ•¸é‡3",
                exchangeTeam4: "èˆ‡éšŠä¼4äº¤æ›",
                exchangeCount4: "äº¤æ›æ•¸é‡4",
                finalThanksPartner1: "æ„Ÿè¬çš„å¤¥ä¼´/éšŠä¼1",
                finalThanksPartner2: "æ„Ÿè¬çš„å¤¥ä¼´/éšŠä¼2",
                finalThanksPartner3: "æ„Ÿè¬çš„å¤¥ä¼´/éšŠä¼3",
                finalThanksPartner4: "æ„Ÿè¬çš„å¤¥ä¼´/éšŠä¼4",
                finalThanksPartner5: "æ„Ÿè¬çš„å¤¥ä¼´/éšŠä¼5",
                clueReasoning: `æˆ‘å’Œçµ„å“¡å¤¥ä¼´æ¨ç†å‡º ${document.getElementById('situationContextForReasoning').textContent} çš„å¯èƒ½åŸå› æ˜¯`,
                isClueReason: `æˆ‘èªç‚ºæŠ½åˆ°çš„ç·šç´¢å¡æ˜¯å¦ç‚ºåŸå› `,
                resourceUtilizationLevel: "æˆ‘å€‘å¸Œæœ›äººé¡åˆ©ç”¨è³‡æºçš„ç¨‹åº¦",
                desiredSolutionCard: "æˆ‘æƒ³è¦åŠªåŠ›é”æˆçš„è§£æ–¹æ˜¯",
                test1UnEcoItem: "è€ƒé©—1-ä¸ç’°ä¿çš„ç‰©å“/è¡Œç‚º",
                test2UnEcoReason: "è€ƒé©—2-ä¸ç’°ä¿çš„ç†ç”±",
                habitatRepairSolution: `é‡å°æˆ‘å€‘çš„æ£²åœ°(${drawnCards.character ? drawnCards.character.name : '(è§’è‰²)'})å—åˆ°ç ´å£ï¼Œæˆ‘èªç‚ºé€éäººé¡è¡Œç‚ºå¯ä»¥ä¿®å¾©çš„è§£æ–¹æ˜¯`,
                ecoChange: "æˆ‘å°é€™å€‹è§£æ–¹çš„ç†è§£ä»¥åŠåœ¨ç”Ÿæ´»ä¸­æ‡‰ç”¨çš„æ¡ˆä¾‹æ˜¯?",
                relationToHome: "é€™å’Œæˆ‘çš„è§’è‰²å®¶åœ’æœ‰ä»€éº¼é—œä¿‚ï¼Ÿ",
                groupPlan: "æˆ‘å€‘å°çµ„æå‡ºçš„åˆä½œæ–¹æ¡ˆæ˜¯",
                personalCommitment: "æˆ‘å€‹äººçš„è¡Œå‹•æ‰¿è«¾æ˜¯"
            };

            for (const elementName in formLabels) {
                if (formElements[elementName]) {
                    let value;
                    if (formElements[elementName].type === 'radio') {
                        const checkedRadio = document.querySelector(`input[name="${elementName}"]:checked`);
                        value = checkedRadio ? checkedRadio.value : '(æœªé¸æ“‡)';
                    } else {
                        value = formElements[elementName].value || '(æœªå¡«å¯«)';
                    }
                     if (value !== '(æœªå¡«å¯«)' && value !== '') { 
                        htmlContent += `<p><strong>${formLabels[elementName]}:</strong> ${value}</p>`;
                    }
                }
            }
            
            htmlContent += `</div>`;
            
            htmlContent += `<h2>æˆ‘çš„å®Œæ•´å†’éšªæ•…äº‹ï¼š</h2>`;
            htmlContent += `<div class="story-content"><pre>${storyText}</pre></div>`;
            
            htmlContent += `
                    </div>
                </body>
                </html>
            `;

            const blob = new Blob([htmlContent], { type: 'text/html' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = `${myName}_ç’°å¢ƒå†’éšªæ•…äº‹.html`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(a.href);
        });

        // Initialize solution card dropdown
        const desiredSolutionCardSelect = document.getElementById('desiredSolutionCard');
        cardData.solution.forEach(sol => {
            const option = document.createElement('option');
            option.value = sol.name;
            option.textContent = `${sol.name} (${sol.emoji})`;
            desiredSolutionCardSelect.appendChild(option);
        });

        // Event listener for the guide button
        document.getElementById('guideButton').addEventListener('click', function() {
            const password = prompt("è«‹è¼¸å…¥å¯†ç¢¼ä»¥é–‹å•Ÿæ•™å­¸æŒ‡å—ï¼š");
            if (password === "CBDSOS") {
                const guideWindow = window.open("", "_blank");
                guideWindow.document.write(`
                    <!DOCTYPE html>
                    <html lang="zh-TW">
                    <head>
                        <meta charset="UTF-8">
                        <title>ç”Ÿæ…‹æ£²åœ°ç ´å†°æ´»å‹• æŒ‡å°è€å¸«æ•™æ¡ˆ</title>
                        <style>
                            body { font-family: Arial, sans-serif; line-height: 1.6; margin: 20px; padding: 20px; }
                            h1, h2, h3 { color: #333; }
                            table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }
                            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                            th { background-color: #f2f2f2; }
                        </style>
                    </head>
                    <body>
                        <h1>ç”Ÿæ…‹æ£²åœ°ç ´å†°æ´»å‹• æŒ‡å°è€å¸«æ•™æ¡ˆ</h1>

                        <h2>ä¸€ã€æ´»å‹•ç¸½è¦½</h2>
                        <p><strong>æ´»å‹•åç¨±ï¼š</strong> ç”Ÿæ…‹æ£²åœ°å¥‡é‡è¨˜ï¼šäº’å‹•å¼æ¢ç´¢èˆ‡å‰µé€ </p>
                        <p><strong>æ´»å‹•å°è±¡ï¼š</strong> å­¸ç”Ÿï¼ˆå»ºè­°åœ‹å°é«˜å¹´ç´šè‡³æˆäººï¼Œå¯ä¾æ“šåƒèˆ‡è€…å¹´é½¡èª¿æ•´å¼•å°æ·±åº¦èˆ‡è¨è«–å…§å®¹ï¼‰</p>
                        <p><strong>æ´»å‹•æ™‚é•·ï¼š</strong> é è¨ˆ 90 - 120 åˆ†é˜ (å¯å½ˆæ€§èª¿æ•´å„ç’°ç¯€æ™‚é–“)</p>
                        <p><strong>æ´»å‹•å½¢å¼ï¼š</strong> é‹ç”¨ã€Œç”Ÿæ…‹æ£²åœ°ç ´å†°æ´»å‹•ã€äº’å‹•ç¶²é ï¼ˆæˆ–æ­é…å¯¦é«”å¡ç‰Œï¼‰ï¼Œçµåˆè§’è‰²æ‰®æ¼”ã€å°çµ„è¨è«–ã€æ•…äº‹å‰µä½œèˆ‡åˆ†äº«ã€‚</p>
                        <p><strong>æ ¸å¿ƒç†å¿µï¼š</strong> é€éæ¨¡æ“¬ç”Ÿæ…‹ç³»çµ±ä¸­çš„è§’è‰²èˆ‡æŒ‘æˆ°ï¼Œå¢é€²åƒèˆ‡è€…å°ç”Ÿç‰©å¤šæ¨£æ€§ã€æ£²åœ°ä¿è­·åŠæ°¸çºŒç™¼å±•çš„èªè­˜èˆ‡æƒ…æ„Ÿé€£çµï¼Œä¸¦å•Ÿç™¼å¯¦éš›çš„ç’°ä¿è¡Œå‹•ã€‚</p>
                        <p><strong>ä½¿ç”¨å·¥å…·ï¼š</strong> ã€Œç”Ÿæ…‹æ£²åœ°ç ´å†°æ´»å‹•ã€äº’å‹•ç¶²é ã€‚</p>

                        <h2>äºŒã€å­¸ç¿’ç›®æ¨™</h2>
                        <p>å®Œæˆæœ¬æ´»å‹•å¾Œï¼Œåƒèˆ‡è€…æ‡‰èƒ½ï¼š</p>
                        <ol>
                            <li><strong>èªçŸ¥å±¤é¢ï¼š</strong>
                                <ul>
                                    <li>èªªå‡ºè‡³å°‘ä¸€ç¨®å°ç£æœ¬åœŸç‰©ç¨®åŠå…¶åŸºæœ¬ç”Ÿæ´»ç¿’æ€§ã€‚</li>
                                    <li>è§£é‡‹æ£²åœ°å°ç”Ÿç‰©ç”Ÿå­˜çš„é‡è¦æ€§ã€‚</li>
                                    <li>åˆ—èˆ‰è‡³å°‘ä¸‰ç¨®äººé¡æ´»å‹•å°ç”Ÿæ…‹ç’°å¢ƒå¯èƒ½é€ æˆçš„å½±éŸ¿ã€‚</li>
                                    <li>è­˜åˆ¥ä¸¦èªªæ˜è‡³å°‘ä¸‰ç¨®ç’°å¢ƒä¿è­·çš„è¡Œå‹•æ–¹æ¡ˆã€‚</li>
                                    <li>åˆæ­¥ç†è§£ã€Œç”Ÿæ…‹æœå‹™ã€çš„æ„ç¾©åŠå…¶èˆ‡äººé¡ç¦ç¥‰çš„é—œè¯ã€‚</li>
                                </ul>
                            </li>
                            <li><strong>æŠ€èƒ½å±¤é¢ï¼š</strong>
                                <ul>
                                    <li>é †åˆ©æ“ä½œäº’å‹•ç¶²é å®ŒæˆéŠæˆ²æµç¨‹ã€‚</li>
                                    <li>é€éç·šç´¢å¡èˆ‡æƒ…å¢ƒï¼Œç·´ç¿’è§€å¯Ÿã€åˆ†æèˆ‡è§£æ±ºå•é¡Œçš„èƒ½åŠ›ã€‚</li>
                                    <li>é‹ç”¨æŠ½åˆ°çš„å¡ç‰‡å…ƒç´ ï¼Œçµ„ç¹”ä¸¦å‰µä½œä¸€å€‹ç°¡çŸ­çš„ç”Ÿæ…‹æ•…äº‹ã€‚</li>
                                    <li>åœ¨å°çµ„ä¸­é€²è¡Œæœ‰æ•ˆçš„æºé€šã€å”ä½œèˆ‡æ„è¦‹è¡¨é”ã€‚</li>
                                </ul>
                            </li>
                            <li><strong>æƒ…æ„å±¤é¢ï¼š</strong>
                                <ul>
                                    <li>å¢å¼·å°æœ¬åœŸç”Ÿæ…‹ç’°å¢ƒçš„é—œæ‡·èˆ‡æ¬£è³ã€‚</li>
                                    <li>é«”é©—ç”Ÿç‰©åœ¨ç”Ÿæ…‹ç³»çµ±ä¸­æ‰€æ‰®æ¼”çš„è§’è‰²èˆ‡é¢è‡¨çš„å›°å¢ƒã€‚</li>
                                    <li>åæ€å€‹äººç”Ÿæ´»ç¿’æ…£èˆ‡ç’°å¢ƒä¿è­·çš„é—œè¯æ€§ã€‚</li>
                                    <li>æ¿€ç™¼åƒèˆ‡ç’°å¢ƒä¿è­·è¡Œå‹•çš„æ„é¡˜èˆ‡è²¬ä»»æ„Ÿã€‚</li>
                                </ul>
                            </li>
                        </ol>

                        <h2>ä¸‰ã€æ´»å‹•æº–å‚™</h2>
                        <ul>
                            <li><strong>ç¡¬é«”è¨­å‚™ï¼š</strong>
                                <ul>
                                    <li>æ¯ä½å­¸å“¡æˆ–æ¯çµ„ä¸€å°å¯ä¸Šç¶²çš„è£ç½®ï¼ˆé›»è…¦ã€å¹³æ¿æˆ–æ™ºæ…§å‹æ‰‹æ©Ÿï¼‰ã€‚</li>
                                    <li>æŠ•å½±æ©Ÿèˆ‡è¢å¹•ï¼ˆç”¨æ–¼å±•ç¤ºç¶²é ã€å¼•å°èªªæ˜ï¼‰ã€‚</li>
                                    <li>ç©©å®šçš„ç¶²è·¯é€£ç·šã€‚</li>
                                </ul>
                            </li>
                            <li><strong>è»Ÿé«”/æ•™æï¼š</strong>
                                <ul>
                                    <li>ã€Œç”Ÿæ…‹æ£²åœ°ç ´å†°æ´»å‹•ã€äº’å‹•ç¶²é çš„é€£çµæˆ–QR Codeã€‚</li>
                                    <li>ï¼ˆå‚™é¸ï¼‰å¯¦é«”å¡ç‰Œçµ„ï¼šè§’è‰²å¡ã€æ£²åœ°å¡ã€ç·šç´¢å¡ã€è§£æ–¹å¡ï¼ˆè‹¥ç¶²è·¯ä¸ä¾¿æˆ–ä½œç‚ºè¼”åŠ©ï¼‰ã€‚</li>
                                    <li>å­¸ç¿’å–®æˆ–ç­†è¨˜ç´™ã€ç­†ï¼ˆç¶²é å…§å»ºç­†è¨˜åŠŸèƒ½ï¼Œä½†å¯¦é«”ç­†è¨˜å¯ä¾›è¼”åŠ©ï¼‰ã€‚</li>
                                    <li>(é¸æ“‡æ€§) è¨ˆæ™‚å™¨ã€‚</li>
                                </ul>
                            </li>
                            <li><strong>æŒ‡å°è€å¸«äº‹å‰æº–å‚™ï¼š</strong>
                                <ul>
                                    <li>ç†Ÿæ‚‰ã€Œç”Ÿæ…‹æ£²åœ°ç ´å†°æ´»å‹•ã€äº’å‹•ç¶²é çš„å„é …åŠŸèƒ½èˆ‡æµç¨‹ã€‚</li>
                                    <li>é å…ˆæ¸¬è©¦ç¶²é åœ¨æ•™å­¸ç’°å¢ƒä¸­çš„é‹ä½œæƒ…æ³ã€‚</li>
                                    <li>æº–å‚™å¥½å¼•å°å•é¡Œèˆ‡è¨è«–æ–¹å‘ã€‚</li>
                                    <li><strong>è¨˜ä¸‹å¯†ç¢¼ï¼š</strong>
                                        <ul>
                                            <li><strong>æƒ…å¢ƒå¡å¯†ç¢¼ï¼š</strong> <code>SOS99999</code></li>
                                            <li><strong>ç·šç´¢å¡å¯†ç¢¼ï¼š</strong> <code>99999</code></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>

                        <h2>å››ã€æ´»å‹•æµç¨‹èˆ‡æŒ‡å°èªåƒè€ƒ</h2>
                        <hr>
                        <h3>ç¬¬ä¸€éšæ®µï¼šè§’è‰²å»ºç«‹èˆ‡å®¶åœ’æ¢ç´¢ (ç´„ 25 - 30 åˆ†é˜)</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>æ­¥é©Ÿ</th>
                                    <th>æ™‚é–“ (åˆ†é˜)</th>
                                    <th>æ•™å­¸æ´»å‹•å…§å®¹èˆ‡æŒ‡å°èª</th>
                                    <th>æ•™å­¸æç¤º</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>1. é–‹å ´èˆ‡åˆ†çµ„</strong></td>
                                    <td>5 åˆ†é˜</td>
                                    <td><strong>æŒ‡å°è€å¸«ï¼š</strong> ã€Œå¤§å®¶å¥½ï¼æ­¡è¿ä¾†åˆ°ä»Šå¤©çš„ã€ç”Ÿæ…‹æ£²åœ°å¥‡é‡è¨˜ã€ã€‚åœ¨é€™å€‹æ´»å‹•ä¸­ï¼Œæˆ‘å€‘å°‡ä¸€èµ·æ¢ç´¢å°ç£è±å¯Œçš„ç”Ÿæ…‹ï¼Œä¸¦æ€è€ƒå¦‚ä½•ä¿è­·æˆ‘å€‘çè²´çš„è‡ªç„¶ç’°å¢ƒã€‚é¦–å…ˆï¼Œè«‹å¤§å®¶åˆ†æˆå°çµ„ï¼Œæ¯çµ„å¤§ç´„3-5äººã€‚ã€</td>
                                    <td>ç¢ºä¿æ‰€æœ‰å­¸å“¡éƒ½èƒ½é †åˆ©é€²å…¥ç¶²é ã€‚</td>
                                </tr>
                                <tr>
                                    <td><strong>2. è§’è‰²èªåŒ</strong></td>
                                    <td>10 åˆ†é˜</td>
                                    <td><strong>æŒ‡å°è€å¸«ï¼š</strong> ã€Œç¾åœ¨ï¼Œè«‹å„çµ„æ‰“é–‹æ´»å‹•ç¶²é ã€‚é¦–å…ˆï¼Œæ¯å€‹äººéƒ½è¦æŠ½å–ä¸€å¼µã€è§’è‰²å¡ã€ï¼Œé€™å°±æ˜¯ä½ ä»Šå¤©çš„èº«åˆ†ï¼è«‹ä»”ç´°é–±è®€å¡ç‰‡ä¸Šçš„ä»‹ç´¹ã€‚æ¥è‘—ï¼Œåœ¨ç­†è¨˜å€å¯«ä¸‹ä½ çš„åå­—ï¼Œä¸¦æ ¹æ“šä½ å°é€™å€‹å‹•ç‰©çš„äº†è§£ï¼Œæƒ³åƒä¸€ä¸‹ã€ï¼ˆå‹•ç‰©åï¼‰æœ‰ä¸€äº›ç¨ç‰¹çš„ç‰¹æ€§æ˜¯...ã€ï¼ŒæŠŠå®ƒè¨˜éŒ„ä¸‹ä¾†ã€‚ç„¶å¾Œï¼Œå’Œä½ çš„å¤¥ä¼´å€‘è¨è«–ä¸€ä¸‹ï¼Œä½ å€‘é€™ç¾¤å‹•ç‰©å¤¥ä¼´å„è‡ªæœ‰ä»€éº¼ã€å°ˆé•·ã€ï¼Ÿä¾‹å¦‚ï¼Œèª°æ“…é•·è§€å¯Ÿï¼Ÿèª°æ“…é•·æºé€šï¼ŸæŠŠå¤¥ä¼´çš„åå­—å’Œä½ å€‘èªç‚ºçš„å°ˆé•·å¯«ä¸‹ä¾†ã€‚æˆ‘æœ‰ä¿¡å¿ƒä¸€èµ·å°‹æ‰¾æˆ‘å€‘çš„æ£²åœ°æ‰¾åˆ°æˆ‘å€‘çš„å®¶é„‰å®Œæˆä»Šå¤©çš„ä»»å‹™ã€‚ã€</td>
                                    <td>é¼“å‹µå­¸å“¡ç™¼æ®æƒ³åƒåŠ›ï¼Œå°‡è§’è‰²èˆ‡å€‹äººç‰¹è³ªé€£çµï¼Œå¢åŠ ä»£å…¥æ„Ÿã€‚</td>
                                </tr>
                                <tr>
                                    <td><strong>3. æ£²åœ°é…å°</strong></td>
                                    <td>10 åˆ†é˜</td>
                                    <td><strong>æŒ‡å°è€å¸«ï¼š</strong> ã€Œæ¥ä¸‹ä¾†ï¼Œæ¯å€‹äººéƒ½è¦ç‚ºè‡ªå·±æŠ½å–ä¸€å¼µã€æ£²åœ°å¡ã€ï¼Œé€™ä»£è¡¨ä½ ç›®å‰æ‰€åœ¨çš„ç’°å¢ƒã€‚è«‹ä»”ç´°é–±è®€æ£²åœ°æè¿°ï¼Œä¸¦è·Ÿä½ çš„å¤¥ä¼´è¨è«–ï¼šé€™å€‹æ£²åœ°é©åˆä½ çš„è§’è‰²å±…ä½å—ï¼Ÿç‚ºä»€éº¼ï¼ŸæŠŠä½ ç†æƒ³ä¸­çš„å®¶åœ’æ¨£è²Œï¼Œä»¥åŠè·Ÿå¤¥ä¼´è¨è«–çš„ç†ç”±å¯«åœ¨ç­†è¨˜å€ã€‚å¦‚æœæŠ½åˆ°çš„æ£²åœ°ä¸é©åˆï¼Œä½ å€‘å¯ä»¥è·Ÿå…¶ä»–å°çµ„é€²è¡Œäº¤æ›ï¼Œä¸¦è¨˜éŒ„ä¸‹äº¤æ›çš„éç¨‹ã€‚åœ¨ç­†è¨˜å€çš„ã€æ£²åœ°å¡äº¤æ›çµæœç´€éŒ„ã€ä¸­ï¼Œå…ˆå¾é¸å–®é¸æ“‡ä½ çœŸæ­£éœ€è¦çš„æ£²åœ°ï¼Œç„¶å¾Œè¨˜éŒ„ä¸‹ä½ å€‘å’Œå“ªäº›éšŠä¼äº¤æ›äº†å¹¾å¼µå¡ç‰‡ã€‚æœ€å¾Œï¼Œåˆ¥å¿˜äº†æ„Ÿè¬å¹«åŠ©ä½ æ‰¾åˆ°æ–°å®¶çš„å¤¥ä¼´å€‘ï¼ã€</td>
                                    <td>æ­¤ç’°ç¯€å¼·èª¿æºé€šèˆ‡å”å•†ã€‚æé†’å­¸å“¡æ€è€ƒç”Ÿç‰©èˆ‡ç’°å¢ƒçš„é©æ‡‰é—œä¿‚ã€‚</td>
                                </tr>
                            </tbody>
                        </table>
                        <hr>
                        <h3>ç¬¬äºŒéšæ®µï¼šå±æ©Ÿæµ®ç¾èˆ‡ç·šç´¢è¿½æŸ¥ (ç´„ 30 åˆ†é˜)</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>æ­¥é©Ÿ</th>
                                    <th>æ™‚é–“ (åˆ†é˜)</th>
                                    <th>æ•™å­¸æ´»å‹•å…§å®¹èˆ‡æŒ‡å°èª</th>
                                    <th>æ•™å­¸æç¤º</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>4. å±æ©Ÿé™è‡¨</strong></td>
                                    <td>5 åˆ†é˜</td>
                                    <td><strong>æŒ‡å°è€å¸«ï¼š</strong> ã€Œå¤ªå¥½äº†ï¼å¤§å®¶éƒ½æ‰¾åˆ°äº†ç†æƒ³çš„å®¶åœ’ã€‚ä½†å°±åœ¨ä½ å€‘æº–å‚™äº«å—å®‰å¯§ç”Ÿæ´»çš„æ™‚å€™ï¼Œä¸€ä»¶æ„æƒ³ä¸åˆ°çš„äº‹æƒ…ç™¼ç”Ÿäº†ï¼è«‹å¤§å®¶æ‰¾åˆ°ã€çªç™¼æƒ…å¢ƒã€å€å¡Šï¼Œç¾åœ¨æˆ‘è¦å…¬å¸ƒä¸€çµ„å¯†ç¢¼ï¼Œè«‹è¼¸å…¥ï¼š<strong>SOS99999</strong>ï¼Œçœ‹çœ‹ç™¼ç”Ÿäº†ä»€éº¼äº‹ï¼ã€</td>
                                    <td>è€å¸«å…¬å¸ƒå¯†ç¢¼å¾Œï¼Œè®“å­¸å“¡è‡ªè¡Œæ“ä½œï¼Œæ„Ÿå—æƒ…å¢ƒå¸¶ä¾†çš„è¡æ“Šã€‚ç¶²é æœƒè‡ªå‹•å°‡æƒ…å¢ƒæ–‡å­—å¡«å…¥å¾ŒçºŒçš„æå•ä¸­ã€‚</td>
                                </tr>
                                <tr>
                                    <td><strong>5. å°‹æ‰¾ç·šç´¢</strong></td>
                                    <td>10 åˆ†é˜</td>
                                    <td><strong>æŒ‡å°è€å¸«ï¼š</strong> ã€Œæˆ‘å€‘çš„å®¶åœ’ç™¼ç”Ÿäº†å±æ©Ÿï¼ŒåŒä¼´å€‘éƒ½æ¶ˆå¤±äº†ã€‚æˆ‘å€‘éœ€è¦æ‰¾å‡ºåŸå› ï¼ç¾åœ¨ï¼Œè«‹æ¯å€‹å°çµ„æŠ½ä¸€å¼µã€ç·šç´¢å¡ã€ï¼Œé€™å¼µå¡ç‰‡ä»£è¡¨ä½ å€‘æ‰¾åˆ°çš„ç¬¬ä¸€æ¢ç·šç´¢ã€‚è«‹æ ¹æ“šé€™æ¢ç·šç´¢ï¼Œå’Œä½ çš„å¤¥ä¼´å€‘è¨è«–ï¼Œå®¶é„‰åˆ°åº•ç™¼ç”Ÿäº†ä»€éº¼äº‹ï¼ŸæŠŠä½ å€‘çš„æ¨è«–å¯«åœ¨ç­†è¨˜æœ¬ä¸Šã€‚åŒæ™‚ï¼Œæ€è€ƒä¸€ä¸‹ï¼Œé€™å¼µå¡ç‰‡çœŸçš„æ˜¯æœ€é‡è¦çš„åŸå› å—ï¼Ÿé‚„æ˜¯æœ‰å…¶ä»–å¯èƒ½ï¼Ÿã€</td>
                                    <td>é¼“å‹µå­¸å“¡ç™¼æ®å‰µæ„ï¼Œé€²è¡Œæ¨ç†æ€§æ€è€ƒã€‚å¼•å°ä»–å€‘å°‡ç·šç´¢èˆ‡è‡ªå·±çš„è§’è‰²ã€æ£²åœ°é€£çµã€‚</td>
                                </tr>
                                <tr>
                                    <td><strong>6. æ¢ç´¢æ›´å¤šå¯èƒ½æ€§**</td>
                                    <td>5 åˆ†é˜</td>
                                    <td><strong>æŒ‡å°è€å¸«ï¼š** ã€Œä¸€å€‹äº‹ä»¶çš„ç™¼ç”Ÿï¼Œé€šå¸¸ä¸æœƒåªæœ‰å–®ä¸€åŸå› ã€‚ç¾åœ¨ï¼Œæˆ‘å°‡æä¾›ç¬¬äºŒçµ„å¯†ç¢¼ï¼Œè®“ä½ å€‘çœ‹åˆ°æ‰€æœ‰å¯èƒ½çš„å¨è„…ã€‚è«‹è¼¸å…¥ï¼š**99999**ã€‚çœ‹çœ‹é€™äº›ç·šç´¢ï¼Œå“ªäº›å¯èƒ½ä¹Ÿèˆ‡ä½ å€‘å®¶åœ’çš„å±æ©Ÿæœ‰é—œï¼Ÿã€</td>
                                    <td>é€™å€‹ç’°ç¯€è®“å­¸å“¡ç†è§£å•é¡Œçš„è¤‡é›œæ€§ï¼Œä¸¦æ“´å±•ä»–å€‘çš„æ€è€ƒç¯„åœã€‚</td>
                                </tr>
                                <tr>
                                    <td><strong>7. å°çµ„è¨è«–èˆ‡åˆ†äº«**</td>
                                    <td>10 åˆ†é˜</td>
                                    <td><strong>æŒ‡å°è€å¸«ï¼š** ã€Œç¾åœ¨è«‹å„çµ„æ ¹æ“šä½ å€‘æ‰‹ä¸Šæ‰€æœ‰çš„è³‡è¨Šâ€”â€”ä½ çš„è§’è‰²ã€ä½ çš„æ£²åœ°ã€ä½ æŠ½åˆ°çš„ç·šç´¢å¡ä»¥åŠæ‰€æœ‰å¯èƒ½çš„ç·šç´¢ï¼Œä¸€èµ·è¨è«–çœ‹çœ‹ï¼Œä½ å€‘èªç‚ºé€ æˆå®¶åœ’å±æ©Ÿæœ€ä¸»è¦çš„åŸå› æ˜¯ä»€éº¼ï¼Ÿè«‹æº–å‚™è·Ÿå…¶ä»–çµ„åˆ†äº«ä½ å€‘çš„ç™¼ç¾ã€‚ã€</td>
                                    <td>ç‡Ÿé€ æ”¯æŒèˆ‡é¼“å‹µçš„æ°›åœï¼Œè®“æ¯å€‹å°çµ„éƒ½æœ‰æ©Ÿæœƒåˆ†äº«ã€‚</td>
                                </tr>
                            </tbody>
                        </table>
                        <hr>
                        <h3>ç¬¬ä¸‰éšæ®µï¼šå°‹æ±‚è§£æ–¹èˆ‡æ¡å–è¡Œå‹• (ç´„ 35 åˆ†é˜)</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>æ­¥é©Ÿ</th>
                                    <th>æ™‚é–“ (åˆ†é˜)</th>
                                    <th>æ•™å­¸æ´»å‹•å…§å®¹èˆ‡æŒ‡å°èª</th>
                                    <th>æ•™å­¸æç¤º</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>8. æ¢è¨ç”Ÿæ…‹æœå‹™èˆ‡äººé¡å½±éŸ¿</strong></td>
                                    <td>10 åˆ†é˜</td>
                                    <td><strong>æŒ‡å°è€å¸«ï¼š</strong> ã€Œå‰›å‰›æˆ‘å€‘çœ‹åˆ°ï¼Œäººé¡çš„è¨±å¤šæ´»å‹•éƒ½æœƒå°ç’°å¢ƒé€ æˆå½±éŸ¿ã€‚é€™äº›ç·šç´¢éƒ½é¡¯ç¤ºäººé¡é«˜åº¦æ´»å‹•é€ æˆçš„ç’°å¢ƒå½±éŸ¿ï¼Œå› ç‚ºæˆ‘å€‘å±…ä½çš„åœ°æ–¹ï¼Œèˆ‡äººé¡çš„æ´»å‹•ç¯„åœæœ‰é«˜åº¦çš„é‡ç–Šï¼Œé€ æˆæˆ‘å€‘æ£²åœ°çš„ç ´å£ï¼›æˆ‘å€‘éƒ½æ˜¯ç”Ÿæ…‹éˆä¸­é‡è¦çš„ä¸€ç’°ï¼Œå› æ­¤æˆ‘å€‘å¸Œæœ›äººé¡èƒ½å¤ å°æˆ‘å€‘æ›´å‹å–„ã€‚<br><br>æ£²åœ°çš„æ¢ç´¢ä¸­ï¼Œæˆ‘å’Œå¤¥ä¼´å€‘ä¸€èµ·è¨è«–å¾—å‡ºçµè«–æ˜¯â€¦â€¦.æˆ‘å€‘å¸Œæœ›äººé¡èƒ½å¤ ï¼ˆå¼•å°å­¸ç”Ÿæ€è€ƒä¸¦é¸æ“‡ã€é«˜åº¦ã€ã€ã€é©åº¦ã€æˆ–ã€ä½åº¦ã€ï¼‰çš„åˆ©ç”¨è³‡æºï¼Œè®“ã€ç”Ÿæ…‹æœå‹™å¯ä»¥æ°¸çºŒã€‘ã€‚<br><br>å¤§å®¶çŸ¥é“ä»€éº¼æ˜¯ã€ç”Ÿæ…‹æœå‹™ã€å—ï¼Ÿï¼ˆç¨ä½œåœé “ï¼Œè®“å­¸å“¡æ€è€ƒæˆ–å›ç­”ï¼‰ç°¡å–®ä¾†èªªï¼Œå°±æ˜¯å¤§è‡ªç„¶ç‚ºæˆ‘å€‘æä¾›çš„å¥½è™•ï¼Œåƒæ˜¯ä¹¾æ·¨çš„ç©ºæ°£ã€æ°´æºã€é£Ÿç‰©ç­‰ç­‰ã€‚æ‰€ä»¥ï¼Œä¿è­·ç’°å¢ƒå…¶å¯¦ä¹Ÿæ˜¯åœ¨ä¿è­·æˆ‘å€‘è‡ªå·±ã€‚é€éè€å¸«çš„æ•™å­¸æˆ‘å€‘æ›´äº†è§£ã€ç”Ÿæ…‹æœå‹™ã€‘æ˜¯äººé¡çš„ã€Œç”Ÿå‘½æ”¯æŒç³»çµ±ã€ï¼Œç‚ºäººé¡æä¾›å¿…è¦çš„ç”Ÿæ…‹ç³»æœå‹™ã€‚å› æ­¤ï¼Œè®“æˆ‘å€‘ç¹¼çºŒè¨è«–åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæœ‰å“ªäº›è¡Œç‚ºå¯ä»¥æˆç‚ºæ”¹è®Šçš„è§£æ–¹ã€‚ã€</td>
                                    <td>è—‰æ­¤æ©Ÿæœƒç°¡è¦ä»‹ç´¹ã€Œç”Ÿæ…‹æœå‹™ã€èˆ‡ã€Œæ°¸çºŒç™¼å±•ã€çš„æ¦‚å¿µï¼Œé€£çµæ´»å‹•èˆ‡çœŸå¯¦ä¸–ç•Œã€‚å¼•å°å­¸ç”Ÿæ€è€ƒä¸åŒåˆ©ç”¨ç¨‹åº¦çš„å¾Œæœã€‚</td>
                                </tr>
                                <tr>
                                    <td><strong>9. å°‹æ±‚è§£æ–¹èˆ‡è€ƒé©—</strong></td>
                                    <td>15 åˆ†é˜</td>
                                    <td><strong>æŒ‡å°è€å¸«ï¼š</strong> ã€Œç¾åœ¨ï¼Œæˆ‘å€‘ä¾†æ€è€ƒå¦‚ä½•è§£æ±ºå•é¡Œã€‚è«‹åœ¨ç­†è¨˜å€çš„ã€è§£æ–¹å¡ã€éƒ¨åˆ†ï¼Œå¾ä¸‹æ‹‰é¸å–®ä¸­é¸æ“‡ä¸€å€‹ä½ èªç‚ºæœ€èƒ½å¹«åŠ©ä½ å€‘å®¶åœ’çš„æ–¹æ¡ˆã€‚é¸æ“‡å¾Œï¼Œæœƒå‡ºç¾å…©å€‹å°è€ƒé©—ï¼Œè«‹èª å¯¦åœ°å›ç­”ï¼Œé€™èƒ½å¹«åŠ©æˆ‘å€‘æ€è€ƒï¼Œç’°å¢ƒä¿è­·å…¶å¯¦è·Ÿæˆ‘å€‘çš„æ—¥å¸¸ç”Ÿæ´»æ¯æ¯ç›¸é—œã€‚ã€<br><br>
                                    **è€ƒé©—1æç¤ºï¼š** ã€Œç¬¬ä¸€å€‹è€ƒé©—æ˜¯ï¼Œè«‹å¡«å¯«ä¸€ä»¶ä½ è‡ªå·±èº«ä¸Šä¸å¤ ç’°ä¿çš„ç‰©å“ï¼Œæˆ–æ˜¯ä¸€ç¨®ä½ ç”Ÿæ´»ä¸­ä¸ç’°ä¿çš„è¡Œç‚ºã€‚è‡³å°‘å¯«3å€‹å­—å–”ï¼ã€<br>
                                    **è€ƒé©—2æç¤ºï¼š** ã€Œç¬¬äºŒå€‹è€ƒé©—æ˜¯ï¼Œè«‹èªªæ˜ä½ å‰›å‰›å¯«ä¸‹çš„ç‰©å“æˆ–è¡Œç‚ºç‚ºä»€éº¼ä¸å¤ ç’°ä¿ã€‚è‡³å°‘å¯«6å€‹å­—å–”ï¼ã€<br><br>
                                    <strong>æŒ‡å°è€å¸«ï¼š</strong> ã€Œå®Œæˆè€ƒé©—å¾Œï¼Œè«‹æ€è€ƒä¸¦è¨˜éŒ„ï¼šé‡å°ä½ å€‘å®¶åœ’è¢«ç ´å£çš„æƒ…æ³ï¼Œä½ èªç‚ºé€éäººé¡è¡Œç‚ºå¯ä»¥å¦‚ä½•ä¿®å¾©ä½ å€‘çš„æ£²åœ°ï¼Ÿä»¥åŠä½ å°é€™å€‹è§£æ–¹çš„ç†è§£å’Œåœ¨ç”Ÿæ´»ä¸­å¯ä»¥å¦‚ä½•æ‡‰ç”¨ï¼Ÿã€
                                    </td>
                                    <td>è§€å¯Ÿå„çµ„é€²åº¦ï¼Œé¼“å‹µå­¸å“¡èª å¯¦é¢å°è‡ªå·±çš„ç”Ÿæ´»ç¿’æ…£ã€‚å¦‚æœå­¸å“¡å¡é—œï¼Œå¯ä»¥èˆ‰ä¾‹å¼•å°ã€‚å¼·èª¿å®Œæˆè€ƒé©—æ‰èƒ½ã€Œè§£é–ã€ä»–å€‘é¸æ“‡çš„è§£æ–¹ã€‚</td>
                                </tr>
                                <tr>
                                    <td><strong>10. å€‹äººåæ€èˆ‡è¡Œå‹•æ‰¿è«¾</strong></td>
                                    <td>10 åˆ†é˜</td>
                                    <td><strong>æŒ‡å°è€å¸«ï¼š</strong> ã€Œç¾åœ¨ï¼Œè«‹å¤§å®¶æ€è€ƒä¸€ä¸‹ï¼Œä½ ä»Šå¤©æ‰®æ¼”çš„è§’è‰²å’Œç‰ çš„å®¶åœ’ï¼Œè·Ÿä½ è‡ªå·±çš„ç”Ÿæ´»æœ‰ä»€éº¼é—œä¿‚å‘¢ï¼Ÿä»¥åŠï¼Œèº«ç‚ºåœ°çƒçš„ä¸€ä»½å­ï¼Œæˆ‘å€‘å¯ä»¥ç‚ºç’°å¢ƒåšäº›ä»€éº¼ï¼Ÿè«‹åœ¨ç­†è¨˜å€å¯«ä¸‹ä½ å€‘å°çµ„è¨è«–å‡ºä¾†çš„åˆä½œæ–¹æ¡ˆï¼Œä»¥åŠä½ å€‹äººçš„è¡Œå‹•æ‰¿è«¾ã€‚ã€</td>
                                    <td>å¼•å°å­¸ç”Ÿå°‡éŠæˆ²é«”é©—å…§åŒ–ï¼Œæ€è€ƒå¯¦éš›çš„è¡Œå‹•æ–¹æ¡ˆã€‚</td>
                                </tr>
                            </tbody>
                        </table>
                        <hr>
                        <h3>ç¬¬å››éšæ®µï¼šåˆ†äº«èˆ‡ç¸½çµ (ç´„ 15-20 åˆ†é˜)</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>æ­¥é©Ÿ</th>
                                    <th>æ™‚é–“ (åˆ†é˜)</th>
                                    <th>æ•™å­¸æ´»å‹•å…§å®¹èˆ‡æŒ‡å°èª</th>
                                    <th>æ•™å­¸æç¤º</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>11. æ•…äº‹å‰µä½œèˆ‡åˆ†äº«</strong></td>
                                    <td>10-15 åˆ†é˜</td>
                                    <td><strong>æŒ‡å°è€å¸«ï¼š</strong> ã€Œç¾åœ¨ï¼Œè«‹æŒ‰ä¸‹ã€åŒæ­¥ç­†è¨˜åˆ°æ•…äº‹ã€æŒ‰éˆ•ï¼Œä½ å€‘çš„å†’éšªæ­·ç¨‹æœƒè‡ªå‹•ç”Ÿæˆä¸€ç¯‡æ•…äº‹è‰ç¨¿ã€‚è«‹å’Œä½ çš„å¤¥ä¼´ä¸€èµ·æ½¤é£¾å®ƒï¼Œè®“å®ƒæˆç‚ºä½ å€‘å°çµ„ç¨ä¸€ç„¡äºŒçš„å†’éšªæ•…äº‹ã€‚ç¨å¾Œï¼Œæˆ‘å€‘å°‡é‚€è«‹å¹¾çµ„åŒå­¸ä¾†åˆ†äº«ä½ å€‘çš„æ•…äº‹ã€‚ã€</td>
                                    <td>é¼“å‹µå­¸å“¡åŠ å…¥æ›´å¤šå½¢å®¹è©ã€å¿ƒæƒ…æè¿°ï¼Œè®“æ•…äº‹æ›´å…·æƒ…æ„Ÿã€‚å¯ä»¥è¨­å®šåˆ†äº«æ™‚é–“é™åˆ¶ã€‚</td>
                                </tr>
                                <tr>
                                    <td><strong>12. ç¸½çµèˆ‡å±•æœ›</strong></td>
                                    <td>5 åˆ†é˜</td>
                                    <td><strong>æŒ‡å°è€å¸«ï¼š</strong> ã€Œéå¸¸æ„Ÿè¬å¤§å®¶çš„ç²¾å½©åˆ†äº«ï¼ä»Šå¤©æˆ‘å€‘éƒ½ç¶“æ­·äº†ä¸€å ´ç‰¹åˆ¥çš„æ—…ç¨‹ã€‚å¾é€™äº›å‹•ç‰©çš„è¦–è§’ï¼Œæˆ‘å€‘çœ‹åˆ°äº†æ£²åœ°é¢è‡¨çš„å„ç¨®æŒ‘æˆ°ï¼Œä¹Ÿæ€è€ƒäº†æˆ‘å€‘å¯ä»¥åšäº›ä»€éº¼ã€‚å¸Œæœ›å¤§å®¶èƒ½æŠŠä»Šå¤©çš„æ„Ÿå—å’Œå­¸ç¿’å¸¶å›ç”Ÿæ´»ä¸­ï¼Œå¾ä¸€å€‹å°å°çš„è¡Œå‹•é–‹å§‹ï¼Œä¸€èµ·ç‚ºæˆ‘å€‘çš„åœ°çƒç›¡ä¸€ä»½å¿ƒåŠ›ï¼åˆ¥å¿˜äº†é»æ“Šã€ä¸‹è¼‰æ•…äº‹HTMLæª”æ¡ˆã€ï¼Œå°‡ä½ å€‘çš„å†’éšªæ•…äº‹å’Œæ‰¿è«¾ä¿å­˜ä¸‹ä¾†ã€‚ã€</td>
                                    <td>ç¸½çµæ´»å‹•çš„æ ¸å¿ƒåƒ¹å€¼ï¼Œå¼·èª¿è¡Œå‹•çš„é‡è¦æ€§ã€‚é¼“å‹µå­¸å“¡å°‡æ‰€å­¸æ‡‰ç”¨æ–¼æ—¥å¸¸ã€‚</td>
                                </tr>
                            </tbody>
                        </table>

                    <h2>äº”ã€è©•é‡æ–¹å¼</h2>
                    <ul>
                        <li><strong>éç¨‹è©•é‡ï¼š</strong>
                            <ul>
                                <li>è§€å¯Ÿå­¸å“¡åœ¨å°çµ„è¨è«–ä¸­çš„åƒèˆ‡åº¦ã€æºé€šå”ä½œæƒ…æ³ã€‚</li>
                                <li>æª¢è¦–å­¸å“¡åœ¨äº’å‹•ç¶²é ä¸Šå¡«å¯«çš„ç­†è¨˜å…§å®¹å®Œæ•´æ€§èˆ‡æ€è€ƒæ·±åº¦ã€‚</li>
                            </ul>
                        </li>
                        <li><strong>æˆæœè©•é‡ï¼š</strong>
                            <ul>
                                <li>è©•ä¼°å„çµ„æœ€çµ‚ç”¢å‡ºçš„ã€Œç’°å¢ƒå†’éšªæ•…äº‹ã€ï¼Œæª¢è¦–å…¶å…§å®¹æ˜¯å¦å®Œæ•´ã€é‚è¼¯æ˜¯å¦é€šé †ã€æ˜¯å¦èƒ½é€£çµå„é …å¡ç‰‡è³‡è¨Šèˆ‡åæ€ã€‚</li>
                            </ul>
                        </li>
                        <li><strong>å£é ­è©•é‡ï¼š</strong>
                            <ul>
                                <li>åœ¨åˆ†äº«ç’°ç¯€ï¼Œè©•ä¼°å­¸å“¡å°ç”Ÿæ…‹è­°é¡Œçš„ç†è§£èˆ‡è¡¨é”èƒ½åŠ›ã€‚</li>
                            </ul>
                        </li>
                        <li><strong>è¡Œå‹•è©•é‡ï¼ˆå»¶ä¼¸ï¼‰ï¼š</strong>
                            <ul>
                                <li>é¼“å‹µå­¸å“¡åœ¨èª²å¾Œå¯¦è¸å…¶ã€Œå€‹äººè¡Œå‹•æ‰¿è«¾ã€ï¼Œå¯è¨­è¨ˆå¾ŒçºŒè¿½è¹¤æˆ–åˆ†äº«æ©Ÿåˆ¶ã€‚</li>
                            </ul>
                        </li>
                    </ul>

                    <h2>å…­ã€é™„éŒ„ï¼šå¡ç‰Œè³‡æ–™åƒè€ƒ</h2>
                    <ul>
                        <li><strong>è§’è‰²å¡ (Character Cards):</strong> èœœèœ‚, é£Ÿè›‡é¾œ, é‡‘ç·šè›™, çŸ³è™, ç¶ è µé¾œ</li>
                        <li><strong>æ£²åœ°å¡ (Habitat Cards):</strong> ç†±å¸¶åŠäºç†±å¸¶æµ·åŸŸ, ä½æµ·æ‹”ä¸˜é™µæ—åœ°, å¤šæ¨£åŒ–è¾²ç”°ç”Ÿæ…‹ç³», ä¸˜é™µæ£®æ—æ¿•åœ°, è‰åŸæ£®æ—è¾²å ´</li>
                        <li><strong>ç·šç´¢å¡ (Clue Cards):</strong> è§€å…‰èˆ‡éŠæ†©æ´»å‹•, è¾²æ¥­ç”Ÿç”¢èˆ‡åœŸåœ°åˆ©ç”¨, åŸºç¤è¨­æ–½èˆ‡é–‹ç™¼å»ºè¨­, è³‡æºåˆ©ç”¨èˆ‡éæ³•è¡Œç‚º, åŒ–å­¸ç‰©è³ªä½¿ç”¨, ç’°å¢ƒæ±¡æŸ“</li>
                        <li><strong>è§£æ–¹å¡ (Solution Cards):</strong> æ¸›å¡‘è¡Œå‹•èˆ‡åƒåœ¾ç®¡ç†, å‹å–„è¾²æ¼ç”¢å“æ¶ˆè²», ç”Ÿæ…‹æ—…éŠèˆ‡å‹å–„è§€å…‰, ç¤¾å€è¡Œå‹•èˆ‡å¿—å·¥åƒèˆ‡, ç”Ÿæ…‹ç’°å¢ƒæ•™è‚²æ¨å‹•, è¨­ç½®ç”Ÿç‰©ç¶ å¸¶, ç¶ è‰²æ¶ˆè²»</li>
                    </ul>
                    <hr>
                    <p><strong>æŒ‡å°è€å¸«æ³¨æ„äº‹é …ï¼š</strong></p>
                    <ul>
                        <li>æ´»å‹•å‰å‹™å¿…ç†Ÿæ‚‰ç¶²é æ“ä½œï¼Œä¸¦é å…ˆæ¸¬è©¦æ‰€æœ‰åŠŸèƒ½ã€‚</li>
                        <li>æ ¹æ“šå­¸å“¡å¹´é½¡å’ŒèƒŒæ™¯èª¿æ•´å¼•å°èªçš„æ·±åº¦å’Œè¤‡é›œåº¦ã€‚</li>
                        <li>é¼“å‹µå­¸å“¡ç™¼æ®å‰µæ„ï¼Œä¸¦å°Šé‡ä¸åŒçš„è§€é»å’Œæƒ³æ³•ã€‚</li>
                        <li>å¼·èª¿åˆä½œèˆ‡æºé€šçš„é‡è¦æ€§ã€‚</li>
                        <li>é©æ™‚çµ¦äºˆå¼•å°å’Œå”åŠ©ï¼Œç¢ºä¿æ´»å‹•é †åˆ©é€²è¡Œã€‚</li>
                        <li>è‹¥æ™‚é–“æœ‰é™ï¼Œå¯é…Œæƒ…èª¿æ•´å„ç’°ç¯€çš„æ™‚é–“åˆ†é…ã€‚</li>
                    </ul>
                </body>
                </html>
                `;
                const guideWindow = window.open("https://docs.google.com/document/d/1vuKAqQ-JTBdO7CYI8IJd5BdroPfNHMjO9unnKH4CNtA/edit?usp=sharing", "_blank");
                // It's generally not possible to directly write content to a Google Docs URL this way.
                // The best approach is to link directly to the Google Doc.
                // If you need to display the content within your app, you'd typically embed it or fetch and parse it,
                // but for a simple link to a guide, window.open is sufficient.
            } else if (password !== null) { 
                alert("å¯†ç¢¼éŒ¯èª¤ï¼");
            }
        });

        // Initialize solution card dropdown
        const desiredSolutionCardSelect = document.getElementById('desiredSolutionCard');
        cardData.solution.forEach(sol => {
            const option = document.createElement('option');
            option.value = sol.name;
            option.textContent = `${sol.name} (${sol.emoji})`;
            desiredSolutionCardSelect.appendChild(option);
        });

    </script>
</body>
</html>